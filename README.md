<img src="https://capsule-render.vercel.app/api?type=waving&color=BDBDC8&height=120&text=WoofnMewo&section=header" />

## **ğŸ“— ëª©ì°¨**

ğŸ† [í”„ë¡œì íŠ¸ ì†Œê°œ](#-í”„ë¡œì íŠ¸-ì†Œê°œ)

ğŸ‘¨ğŸ»â€ğŸ’» [íŒ€ì› ì†Œê°œ](#-íŒ€ì›-ì†Œê°œ)

ğŸ›  [ê°œë°œ ë„êµ¬](#-ê°œë°œ-ë„êµ¬)

â° [í”„ë¡œì íŠ¸ ì¼ì •](#-í”„ë¡œì íŠ¸-ì¼ì •)

ğŸ”— [APIëª…ì„¸ì„œì™€ ERDì„¤ê³„ë„](#-APIëª…ì„¸ì„œì™€-ERDì„¤ê³„ë„)
  
ğŸ“ [ë©”ë‰´êµ¬ì¡°ë„](#-ë©”ë‰´êµ¬ì¡°ë„)
  
ğŸ’» [í™”ë©´ êµ¬í˜„ ë° ì£¼ìš” ê¸°ëŠ¥ ì½”ë“œ ë¦¬ë·°](#-í™”ë©´-êµ¬í˜„-ë°-ì£¼ìš”-ê¸°ëŠ¥-ì½”ë“œ-ë¦¬ë·°)
  - [Oauth2 íšŒì›ê°€ì… ë° ë¡œê·¸ì¸ í˜ì´ì§€](#Oauth2-íšŒì›ê°€ì…-ë°-ë¡œê·¸ì¸-í˜ì´ì§€)
  - [ìƒí’ˆ í˜ì´ì§€](#ìƒí’ˆ-í˜ì´ì§€)
  - [ì¥ë°”êµ¬ë‹ˆ í˜ì´ì§€](#ì¥ë°”êµ¬ë‹ˆ-í˜ì´ì§€)
  - [êµ¬ë§¤ í˜ì´ì§€](#êµ¬ë§¤-í˜ì´ì§€)
  - [ë¦¬ë·° í˜ì´ì§€](#ë¦¬ë·°-í˜ì´ì§€)
  - [ê´€ë¦¬ììš© íšŒì› ì£¼ë¬¸ ë‚´ì—­ ê´€ë¦¬ í˜ì´ì§€](#ê´€ë¦¬ììš©-íšŒì›-ì£¼ë¬¸-ë‚´ì—­-ê´€ë¦¬-í˜ì´ì§€)
  - [ê´€ë¦¬ììš© ìƒí’ˆ ê´€ë¦¬ í˜ì´ì§€](#ê´€ë¦¬ììš©-íšŒì›-ìƒí’ˆ-ê´€ë¦¬)
  - [ê³µì§€ì‚¬í•­ í˜ì´ì§€](#ê³µì§€ì‚¬í•­-í˜ì´ì§€)
  
âœ [ëŠë‚€ì ](#-ëŠë‚€ì )

<br/>

## **ğŸ† í”„ë¡œì íŠ¸ ì†Œê°œ** [[Notion]](https://marbled-teeth-f44.notion.site/Woof-Meow-Team-Project-5dff0bf505a144dfbb29f9942d010560)

- í”„ë¡œì íŠ¸ ì œëª©
  - ì˜¨ë¼ì¸ ë°˜ë ¤ê²¬ & ë°˜ë ¤ë¬˜ ì‡¼í•‘ëª° "Woof&Meow" ì›¹ ê°œë°œ

- í”„ë¡œì íŠ¸ ëª©ì 
  - í•™ìŠµí•œ ë‚´ìš© ë³µìŠµ ë° í™œìš©, íŒ€ì›ë“¤ê³¼ì˜ í˜‘ì—…ì— ëŒ€í•œ ì´í•´

- ë¶„ë¥˜
  - íŒ€ í”„ë¡œì íŠ¸

- ì œì‘ ê¸°ê°„
  - 2023.11.01 ~ 2023.11.28

- ì£¼ìš”ê¸°ëŠ¥
  - íšŒì›ê°€ì… ë° Oauth2 ë¡œê·¸ì¸ ê¸°ëŠ¥
  - ì¹´í…Œê³ ë¦¬ ë³„ ìƒí’ˆ ê²€ìƒ‰ ê¸°ëŠ¥
  - ê°„í¸ ê²°ì œ(Kakao / Toss) ê¸°ëŠ¥
  - ì¥ë°”êµ¬ë‹ˆ ê¸°ëŠ¥
  - ë¦¬ë·° ê¸°ëŠ¥
  - ê´€ë¦¬ììš© íšŒì› ì£¼ë¬¸ ë‚´ì—­ ê´€ë¦¬ ë° ë°°ì†¡ ìƒíƒœ ë³€ê²½ ê¸°ëŠ¥
  - ê´€ë¦¬ììš© ìƒí’ˆ ê´€ë¦¬ ë° ì…/ì¶œê³  ê¸°ëŠ¥
  - ê³µì§€ì‚¬í•­ ê¸°ëŠ¥ 
  
<p align="right"><a href="#top">TOP ğŸ”¼</a></p>
<br/>

## **ğŸ‘¨ğŸ»â€ğŸ’» íŒ€ì› ì†Œê°œ**

<br/>

> **íŒ€ì¥: ì •ëŒ€í’** 
### Back-End
- íšŒì›ì •ë³´ RUD ê¸°ëŠ¥ êµ¬í˜„ 
- ì¥ë°”êµ¬ë‹ˆ CRD ê¸°ëŠ¥ êµ¬í˜„
- ê²°ì œ ê¸°ëŠ¥ êµ¬í˜„
- íšŒì›ìš© êµ¬ë§¤ í™•ì • ê¸°ëŠ¥ êµ¬í˜„ 
  
### Front-End
- íšŒì›ìš© ì£¼ë¬¸ ë‚´ì—­ì¡°íšŒ í˜ì´ì§€ êµ¬í˜„
- ì¥ë°”êµ¬ë‹ˆ í˜ì´ì§€ êµ¬í˜„
- ê²°ì œ í˜ì´ì§€ êµ¬í˜„
  
### etc.
- PPT ì œì‘ ë° ë°œí‘œ

<br/>

> **íŒ€ì›: ì¥í˜¸ì§„** 
### Back-End
- Security JWT ë° accessToken êµ¬í˜„
- ê³µì§€ì‚¬í•­ CRUD ê¸°ëŠ¥ êµ¬í˜„
- ì¹´í…Œê³ ë¦¬ ê¸°ëŠ¥ êµ¬í˜„

### Front-End
- ìƒí’ˆ í˜ì´ì§€ êµ¬í˜„
- ê³µì§€ì‚¬í•­ í˜ì´ì§€ êµ¬í˜„
- í˜ì´ì§€ë„¤ì´ì…˜ ê¸°ëŠ¥ êµ¬í˜„
  
### etc.
- íšŒì˜ë¡ ì‘ì„±

<br/>

> **íŒ€ì›: ì´ë™í—Œ** 
### BackEnd
- ìƒí’ˆ R ê¸°ëŠ¥ êµ¬í˜„ 
- ê´€ë¦¬ììš© ìƒí’ˆ CRUD ê¸°ëŠ¥ êµ¬í˜„
- ê´€ë¦¬ììš© íšŒì› ì£¼ë¬¸ ë‚´ì—­ì¡°íšŒ ê¸°ëŠ¥ êµ¬í˜„
- ê´€ì§€ììš© ë°°ì†¡ ìƒíƒœ ë³€ê²½ ê¸°ëŠ¥ êµ¬í˜„
- ì…/ì¶œê³  CUR ê¸°ëŠ¥ êµ¬í˜„
- íšŒì›ìš© ì£¼ë¬¸ ë‚´ì—­ì¡°íšŒ ê¸°ëŠ¥ êµ¬í˜„
  
### FrontEnd
- ê´€ë¦¬ììš© íšŒì› ì£¼ë¬¸ ë‚´ì—­ ê´€ë¦¬ í˜ì´ì§€ êµ¬í˜„
- ê´€ë¦¬ììš© ìƒí’ˆ ê´€ë¦¬ í˜ì´ì§€ êµ¬í˜„

### etc.
- API ëª…ì„¸ì„œ ê´€ë¦¬
- ERD ëª…ì„¸ì„œ ê´€ë¦¬

<br/>

> **íŒ€ì›: ì„ì˜ˆë¦¼** 
### Back-End
- ë¦¬ë·° CRUD ê¸°ëŠ¥ êµ¬í˜„
  
### Front-End
- íšŒì›ê°€ì… í˜ì´ì§€ êµ¬í˜„
- ê°„í¸ë¡œê·¸ì¸ í˜ì´ì§€ êµ¬í˜„
- íšŒì› ìˆ˜ì • í˜ì´ì§€ êµ¬í˜„
- ë¦¬ë·° í˜ì´ì§€ êµ¬í˜„
  
### etc.
- íšŒì˜ë¡ ì‘ì„±

  <br/>

> **ê³µë™ì‘ì—…**
### etc.
- API ëª…ì„¸ì„œ ì‘ì„±
- DB ì„¤ê³„

<p align="right"><a href="#top">TOP ğŸ”¼</a></p>
<br/>

## **ğŸ›  ê°œë°œ ë„êµ¬**

<br/>

### Back-End & DataBase
<div>
	<img src="https://img.shields.io/badge/JAVA-007396?style=for-the-badge&logo=java&logoColor=white">
	<img src="https://img.shields.io/badge/springboot-6DB33F?style=for-the-badge&logo=springboot&logoColor=white">
	
</div>
<div>
	<img src="https://img.shields.io/badge/mysql-4479A1?style=for-the-badge&logo=mysql&logoColor=white">
	<img src="https://img.shields.io/badge/Amazon_AWS-232F3E?style=for-the-badge&logo=amazon-aws&logoColor=white">
	<img src="https://img.shields.io/badge/firebase-FFCA28?style=for-the-badge&logo=firebase&logoColor=white">
</div>

### Front-End
<div>
	<img src="https://img.shields.io/badge/javascript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black"> 
	<img src="https://img.shields.io/badge/react-61DAFB?style=for-the-badge&logo=react&logoColor=black"> 
	<img src="https://img.shields.io/badge/html5-E34F26?style=for-the-badge&logo=html5&logoColor=white">
	<img src="https://img.shields.io/badge/css-1572B6?style=for-the-badge&logo=css3&logoColor=white"> 
</div>


### SCM(í˜•ìƒê´€ë¦¬)
<div>
	<img src="https://img.shields.io/badge/github-181717?style=for-the-badge&logo=github&logoColor=white">
	<img src="https://img.shields.io/badge/git-F05032?style=for-the-badge&logo=git&logoColor=white">
</div>


### DePloyment
<div>
	<img src="https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=Docker&logoColor=white"> 
	<img src="https://img.shields.io/badge/Amazon_S3-446a29?style=for-the-badge&logo=amazons3&logoColor=white"> 
	<img src="https://img.shields.io/badge/Amazon_EC2-ab6d10?style=for-the-badge&logo=amazonec2&logoColor=white">
</div>


### Libray
<div>
	<img src="https://img.shields.io/badge/JWT-000000?style=for-the-badge&logo=jsonwebtokens&logoColor=white"> 
	<img src="https://img.shields.io/badge/MyBatis-271e1f.svg?style=for-the-badge&logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABuElEQVR4nO3US4hPcRQH8H9RI+Wx8FohkVfkUdQkC5FXxs6WhZSysSBCTWyRZpryWDHZi7LxSGRBKUtKMmGiRB6ZIvPRqbP4u917/zP/maXv6t77u+f7Ped8z/k1GiMANuI29mJuY7yBM/7F2bGQLcR2TMR8rMVsHMJd/MSftirBKgwrx03Mwv1839BuBdHnAfzCezzH1yR9gjv53IdH+IR3uIWudkXn4G0Sf8GQapxuV2QLvmENJqRXXTiGG0k+lAmsrCLpRTc2Y2rJ+YqKuGhVYFmrLPubSh1ODx7jepSOzoq4+E8mNg+TyxKMH1fnCNahP1pUiNuKF2n2ASzBDxwuE7moNQ5iJqZVVLQYr7G+7HA6XrYQuIxd+I2HOIUdafyUaA/WFSttFlmEjzUCx7G/5rynzuiOVI9snpYED2R77tUI7C4jjrKOYjAn6Fx+25bP13ACM3L2qxDxHc3Em3A1l6iID7iAPblo0ZYH6nGkmPl544dncQuXtWcfvo+RfBALWl1ol3L0RotXWF5JXhBamstW5kkRkcyV2J0RkReEJmFnehTGvsHnvLZjuU7GKI+a+D8aBfwFL0hrRFV1ciwAAAAASUVORK5CYII=&logoColor=white">
  <img src="https://img.shields.io/badge/Lombok-ca0124?style=for-the-badge&logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEeElEQVR4nO2aW4hVVRjHP01HzZJGJcpuU6l00Uqzgl4sCrqgDz5IZZjZQxlEaKBJWVA9pEEG3QkqESrtAqWhY+WDQZBpF2ys1DLz0s3spqU2Nr/42GvR19eZaVpzBtaZs39wmLPP3vs/a+219ndbS6SkpKSkpKSk1gEOA14H/gBukXoDmMHfvCf1BHAU8L15AHOlngAeNJ3/Augv9QIwAjhoHsAkqSeAl03nV0tPAjgDuBt4E9gItAAXm/NnAW2h8/r3HOkJAKcElxY7Z1lmrnvE/L5cegLAJGAflTkE3GCu3WnOfQyMlFoGmBw6GWkFloTfTwcGmWsHVHhAvwDjpRYBTnMj/2lH7zQwtJ1Zshc4U2oNYIXr/OBOhL77jQHUjkc+AHpLrQCMcu/52Z2870Vz33bgN3N8tdQKwP2m4Uv/x30nAdvCfa8C9xidt6RWoAhfIxPduaOBdcAmf87kAZcBhwPHGNeps6FBcgcYZzr/M9DPnZ/mjNzzQFMHel+aa0+U3AEWmAYvrnB+mOtUdI865a8HRodZol5kivMkx0nOAL2Are1Nf3PdIOCpdiLD9mjNPisELu1o+le4/oIw8n924gF8KLkDrDQNfiMYLv3b9z/uawJuDpng2mBE1VD+aPRulBrw/W2hsTqi35nGj0rQ09kR+QkYKDkDLDINft98/wrok6C32GgslJyhmMK2imOt/KwEPfUCB8L9OqtGSM4AL5kOf+YM4ZEJevOMRrPkDDDeNLbNjf78BL2BwG6jMUFyhSKD+8g0dr35/quGsgmas41GS9ZZIIXrivwO7DHHdyToaVHkW6MxWXIFODWMcuRdl8oOSNCcaTQ+yXb0gb4hYLGuzkZz1yVo9gd2GY1rJFeA+1yMriMeWa05QRct/2a1L5Kx1T9kGvuOM3xNCZrDXAnsKskRYLhzUS0uo0uK14EXjMbbKTOo2wEGhypOZI8zgs2JU3+i0dCZNUZyA+gHrDEN3e8ehhrBoQm6jW4x5CHJDaCPFjZNI3XKL3P+f2xi8URrAZHPtQ4oOQE0AK/wT+4EnjPH0xK1b3NTP68VIAq/vNx1/olw7njgMWB6ovYVwX1G7pKcoEhIVrnOP1mNsrS+Ls7lNWcV8VGEuBtc51eFabqxK++prg26SpHqNUouUCxI2IRGmQ+8Zo7PTdQ+D/jB6HytK0GSAxQW+XYX4WmF56Zw/vyQ9i5KCVGBqcFbRL5JqRN256akNW7UdXQurIK2prePOu1tWZS4KPz7bDcyMbY/tgr6lwBbnLYWTE6oTg+6bujWuca1hve9oQrl8aUVVn2ezmJlh6Liandhxg0IY7ug2Vt3e4WFDb/Ko//rWskFim1qNqafm1i31/f7IuABYAf/Rh/EM8AQyQngWdPIe0NCYj9HmDC4MdT8dUPTlcCtwMMhZY11+0odX5KNlfcAc+ge1HMs1IclOQMMcSWsVNrCXj7d3Hh5tiWsSgAnh50ZO8MKrP3EjUkHwvHWELLq9tbHQxY3ISX/LykpKSkpKZHu5C8+ETRdu+5D6AAAAABJRU5ErkJggg==&logoColor=white">
</div>
<div>
	<img src="https://img.shields.io/badge/Axios-391b89?style=for-the-badge&logo=axios&logoColor=white"> 
	<img src="https://img.shields.io/badge/ReactQuery-FF4154?style=for-the-badge&&logo=reactquery&logoColor=white"> 
	<img src="https://img.shields.io/badge/ReactRouter-CA4245?style=for-the-badge&logo=reactrouter&logoColor=white"> 
	<img src="https://img.shields.io/badge/Emotion-cb0096?style=for-the-badge&logo=react&logoColor=white">
</div>



### etc.
<div>
	<img src="https://img.shields.io/badge/python-3776AB?style=for-the-badge&logo=python&logoColor=white">  
</div>

<p align="right"><a href="#top">TOP ğŸ”¼</a></p>
<br/>

## **â° í”„ë¡œì íŠ¸ ì¼ì •**

![ê°œë°œì¼ì •](https://github.com/KoreaIt-J-23-2-3/wnm_project_portfolio/assets/121537196/7d2a748f-634b-4723-bfe1-ffabaee3e0f4)

<p align="right"><a href="#top">TOP ğŸ”¼</a></p>
<br/>

## **ğŸ”— APIëª…ì„¸ì„œì™€ ERDì„¤ê³„ë„**

### API ëª…ì„¸ì„œ
[https://marbled-teeth-f44.notion.site/c214f75ad9754971b2a3bfb30026b037?v=80d087df81eb43e899eaf11fa02d050c&pvs=4](https://marbled-teeth-f44.notion.site/abb193ef34d84b8e9b0c63dc43a830ab?v=edb9cfe1930b4cf5a0b37853dd6df6f6&pvs=4)

<br/>

### ERD ì„¤ê³„ë„

![WoofNMeow_ERD ](https://github.com/KoreaIt-J-23-2-3/wnm_project_portfolio/assets/137989661/de2d7ae5-ac10-47ac-8cc1-eff351a216ad)

<p align="right"><a href="#top">TOP ğŸ”¼</a></p>
<br/>

## **ğŸ“ ë©”ë‰´êµ¬ì¡°ë„**

### User ë©”ë‰´êµ¬ì¡°ë„
<img width="1366" alt="Userë©”ë‰´êµ¬ì¡°ë„" src="https://github.com/KoreaIt-J-23-2-3/wnm_project_portfolio/assets/137989661/6cf83521-1c1d-48d3-be0c-063fa75357ae">

<br/>

### Admin ë©”ë‰´êµ¬ì¡°ë„
<img width="1366" alt="Adminë©”ë‰´êµ¬ì¡°ë„" src="https://github.com/KoreaIt-J-23-2-3/wnm_project_portfolio/assets/137989661/63cf70f2-53b8-4c01-8ba1-6f0d934d3e0f">

<p align="right"><a href="#top">TOP ğŸ”¼</a></p>
<br/>

## **ğŸ’» í™”ë©´ êµ¬í˜„ ë° ì£¼ìš” ê¸°ëŠ¥ ì½”ë“œ ë¦¬ë·°**

<br/>

### **Oauth2 íšŒì›ê°€ì… ë° ë¡œê·¸ì¸ í˜ì´ì§€**
  <details>
  <summary>íšŒì›ê°€ì… ì˜ìƒ</summary>
  <div markdown="1">
  
![íšŒì›ê°€ì…](https://github.com/KoreaIt-J-23-2-3/wnm_project_portfolio/assets/137989661/9158d176-e9aa-4606-9e72-256f8ec6440c)

  
  </div>
  </details>
  
  <details>
  <summary>ê°„í¸ ë¡œê·¸ì¸ ì˜ìƒ(êµ¬ê¸€, ì¹´ì¹´ì˜¤, ë„¤ì´ë²„)</summary>
  <div markdown="1">
  
![êµ¬ê¸€ ë¡œê·¸ì¸](https://github.com/KoreaIt-J-23-2-3/wnm_project_portfolio/assets/137989661/53f6adf8-12b3-45e5-8c12-f88d1ff47bcf)
![ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸](https://github.com/KoreaIt-J-23-2-3/wnm_project_portfolio/assets/137989661/aa8847ae-8a33-467f-9d29-ffb040e68d19)
![ë„¤ì´ë²„ ë¡œê·¸ì¸](https://github.com/KoreaIt-J-23-2-3/wnm_project_portfolio/assets/137989661/84eda95c-3f11-4d4f-adf8-e655ae0abcb2)

  
  </div>
  </details>

  <details>
  <summary>Oauth2ë¡œê·¸ì¸ ë° íšŒì›ê°€ì… ì½”ë“œë¦¬ë·°</summary>
  <div markdown="1">
  
## Front-End
**Oauth2 ë¡œê·¸ì¸**
```javascript
	const handleGoogleLogin = () => {
			window.location.href = "http://localhost:8080/oauth2/authorization/google"
	}

	const handleKakaoLogin = () => {
			window.location.href = "http://localhost:8080/oauth2/authorization/kakao"
	}

	const handleNaverLogin = () => {
			window.location.href = "http://localhost:8080/oauth2/authorization/naver"
	}
```
- êµ¬ê¸€, ì¹´ì¹´ì˜¤, ë„¤ì´ë²„ ê°„í¸ ë¡œê·¸ì¸ì„ êµ¬í˜„
<br>

**Oauth2 ë¡œê·¸ì¸ í† í° ì €ì¥**
```javascript
	const [ searchParams, setSearchParams ] = useSearchParams();
	const queryClient = useQueryClient();
	useEffect(() => {
		if(!searchParams.get("token")) {
				alert("ì •ìƒì ì¸ ì ‘ê·¼ì´ ì•„ë‹™ë‹ˆë‹¤.")
				navigate("/")
		} else {
				localStorage.setItem("accessToken", "Bearer " + searchParams.get("token"));
				queryClient.refetchQueries("getPrincipal");
		}
	}, []);

	return <Navigate to={"/"}/>
```
- useEffectë¡œ dependencyì— ì•„ë¬´ê²ƒë„ ì£¼ì§€ ì•Šì•„ì„œ ì´ ì»´í¬ë„ŒíŠ¸ì— ì ‘ê·¼í–ˆì„ë•Œ í•œë²ˆë§Œ ì½”ë“œê°€ ì‹¤í–‰ë˜ë„ë¡ í•¨
- Urlì— íŒŒë¼ë¯¸í„°ë¡œ í† í°ì„ ë°›ì•„ localStorageì— accessTokenì´ë€ keyë¡œ Bearer í‘œì‹œë¥¼ ì¶”ê°€í•˜ì—¬ í† í°ì„ ì €ì¥í•´ì£¼ê³  í™ˆí™”ë©´ìœ¼ë¡œ ë³´ë‚´ì¤Œ

<br>

**Oauth2 ë¡œê·¸ì¸ í›„ íšŒì›ê°€ì…**
```javascript
	const user = {
		oauth2Id: searchParams.get("oauth2Id"),
		provider: searchParams.get("provider"),
		name: "",
		nickname: "",
		email: "",
		phoneNumber: "",
		defaultAddressNumber: 0,
		defaultAddressName:"",
		defaultAddressDetailName:""
	}

	useEffect(() => {
		if(!searchParams.get("provider")){
			alert("ì •ìƒì ì¸ ì ‘ê·¼ì´ ì•„ë‹™ë‹ˆë‹¤.")
			navigate("/")
		}
	})

	const [ signupUser, setSignupUser ] = useState(user);
	
	const handleInputChange = (e) => {
		setSignupUser({
			...signupUser,
			[e.target.name]: e.target.value
		});
	}

	const handleSignupSubmit = async () => {
		try {
			await signupApi(signupUser);
			alert("íšŒì›ê°€ì… ì™„ë£Œ");
			window.location.replace("/auth/signin");
		}catch(error) {
			alert("íšŒì›ê°€ì… ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤.")
		}
	}

	const handleCancelOnClick = () => {
		navigate(-1)
	}
```
- ê°„í¸ ë¡œê·¸ì¸ í›„ íšŒì›ì •ë³´ë¥¼ ì¶”ê°€ë¡œ ë°›ì•„ DBì— ì €ì¥í•˜ê¸° ìœ„í•´ êµ¬í˜„
- userê°ì²´ì— ì •ë³´ë¥¼ ë‹´ì•„ ë°±ì•¤ë“œë¡œ ì „ë‹¬
- ì£¼ì†Œ ì •ë³´ëŠ” Daumì£¼ì†Œ Apië¥¼ ì‚¬ìš©, Oauth2Idì™€ ProviderëŠ” Bearerí† í°ì— ë‹´ê²¨ìˆëŠ” ì •ë³´ë¥¼ ê°€ì ¸ì˜´, ë‚˜ë¨¸ì§€ ì •ë³´ëŠ” ì¸í’‹ì„ í†µí•´ ì €

<br>

## Back-End
**Controller**
```java
	@ValidAop
	@PostMapping("/api/auth/signup")
    public ResponseEntity<?> signup(@Valid @RequestBody SignupReqDto signupReqDto, BindingResult bindingResult) {
        return ResponseEntity.ok().body(userService.signup(signupReqDto));
	}
```
- íšŒì›ê°€ì… ìš”ì²­ì„ ë°›ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬
<br>

**Dto**
```java
	@NotBlank
	private String oauth2Id;
	@NotBlank
	private String provider;
	@Email
	private String email;
	@Pattern(regexp = "^[ê°€-í£]{2,6}$", message = "ì´ë¦„ í˜•ì‹ì„ ë‹¤ì‹œ í™•ì¸í•´ì£¼ì„¸ìš”.")
	private String name;
	@NotBlank
	private String nickname;
	@Pattern(regexp = "^[0-9]{11}$", message = "ì „í™”ë²ˆí˜¸ë¥¼ ë‹¤ì‹œ í™•ì¸í•´ì£¼ì„¸ìš”.")
	private String phoneNumber;
	@NotBlank
	private String defaultAddressNumber;
	@NotBlank
	private String defaultAddressName;
	@NotBlank
	private String defaultAddressDetailName;

	public User toEntity() {
		return User.builder()
						.oauth2Id(oauth2Id)
						.provider(provider)
						.email(email)
						.name(name)
						.nickname(nickname)
						.phoneNumber(phoneNumber)
						.defaultAddressNumber(defaultAddressNumber)
						.defaultAddressName(defaultAddressName)
						.defaultAddressDetailName(defaultAddressDetailName)
						.build();
	}
```
- íšŒì›ê°€ì… Controllerì—ì„œ ë°›ì„ ì •ë³´ë¥¼ ë‹´ì„ Dtoìƒì„±
- ì´ë¦„ê³¼ ì „í™”ë²ˆí˜¸ì—ë§Œ ì •ê·œì‹ìœ¼ë¡œ ìœ íš¨ì„± ê²€ì‚¬, ì´ë©”ì¼ì€ ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•´ì„œ ê²€ì‚¬
- repositoryì—ì„œ entityë¡œ ë³€í™˜í•˜ê¸° ìœ„í•œ ë©”ì†Œë“œ ì‘ì„±ì„±
<br>

**Service**
```java
	@Transactional(rollbackFor = Exception.class)
	public Boolean signup(SignupReqDto signupReqDto) {
			try {
					return userMapper.saveUser(signupReqDto.toEntity()) > 0;
			}catch (Exception e) {
					throw new SignupException
									(errorMapper.errorMapper("íšŒì›ê°€ì… ì˜¤ë¥˜", "íšŒì›ê°€ì… ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤."));
			}
	}
```
- íšŒì›ê°€ì… ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ì„œë¹„ìŠ¤
- íšŒì›ê°€ì…ì—ì„œ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜ ì²˜ë¦¬
<br>

**Repository**
```java
	public Integer saveUser(User user);
```
- íšŒì› ê°€ì…ì„ ìœ„í•œ ë©”ì†Œë“œ
<br>

**Entity**
```java
	private int userId;
	private String roleName;
	private String oauth2Id;
	private String provider;
	private String name;
	private String nickname;
	private String email;
	private String phoneNumber;
	private String defaultAddressNumber;
	private String defaultAddressName;
	private String defaultAddressDetailName;
	private String profileUrl;
```
- Dtoì—ì„œ ë³€í™˜í•˜ì—¬ Repositoryì—ì„œ ì‚¬ìš©í•  Entity
<br>

**Mapper**
```xml
	<insert id="saveUser" parameterType="com.woofnmeow.wnm_project_back.entity.User">
		insert into
				user_tb
		values(0,
					'ROLE_USER',
					#{oauth2Id},
					#{provider},
					#{name},
					#{nickname},
					#{email},
					#{phoneNumber},
					#{defaultAddressNumber},
					#{defaultAddressName},
					#{defaultAddressDetailName},
					default)
	</insert>
```
- íšŒì›ê°€ì… insertë¬¸
- ìœ ì € ê¶Œí•œì„ ê¸°ë³¸ì ìœ¼ë¡œ USERë¡œ ë„£ì–´ì¤Œ
<br>

**Config**
```java
	.and()
	.oauth2Login()
	.successHandler(oauth2SuccessHandler)
	.userInfoEndpoint()
	.userService(principalUserDetailsService);
```
- ê°„í¸ë¡œê·¸ì¸ì„ í—ˆìš©í•˜ê¸°ìœ„í•´ í•„í„°ì— ì½”ë“œ ì¶”ê°€
<br>

**PrincipalUser**
```java
	@Getter
	private User user;

	public PrincipalUser(User user, Map<String, Object> attributes, String nameAttributeKey) {
			super(null, attributes, nameAttributeKey);
			this.user = user;
	}

	@Override
	public Collection<? extends GrantedAuthority> getAuthorities() {
			ArrayList<SimpleGrantedAuthority> authorities = new ArrayList<>();
			authorities.add(new SimpleGrantedAuthority(user.getRoleName()));
			return authorities;
	}

	@Override
	public String getName() {
			if(user.getProvider().equals("google")) {
					return super.getAttributes().get("sub").toString();
			} else {
					return super.getAttributes().get("id").toString();
			}
	}
```
- Jwtí† í°ì„ ë§Œë“¤ê¸°ìœ„í•œ PrincipalUserê°ì²´
- ì¹´ì¹´ì˜¤ë‚˜ ë„¤ì´ë²„ì™€ ë‹¬ë¦¬ googleì˜ ê²½ìš° attributesì—ì„œ ì‚¬ìš©ì ì •ë³´ê°€ ë‹´ê¸´ ë¶€ë¶„ì˜ í‚¤ê°’ì´ subì´ê¸° ë•Œë¬¸ì— getNameì„ ì‚¬ìš©í•  ë•Œ ì¡°ê±´ì´ í•„ìš”
<br>

**successHandler**
```java
	@Override
	public void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response, Authentication authentication) throws IOException, ServletException {
			OAuth2AuthenticationToken authenticationToken = (OAuth2AuthenticationToken) authentication;
			OAuth2User oAuth2User = authenticationToken.getPrincipal();

			String oauth2Id = oAuth2User.getName();
			String provider = oAuth2User.getAttribute("provider") == null ? "google" : oAuth2User.getAttribute("provider").toString();

			User user = userMapper.findUserByOauth2Id(oauth2Id);
			
			if(user == null) {
					response.sendRedirect("http://localhost:3000/auth/signup" +
									"?oauth2Id=" + oauth2Id +
									"&provider=" + provider);
					return;
			}
			PrincipalUser principalUser = new PrincipalUser(user, oAuth2User.getAttributes(), provider.equals("google") ? "sub" : "id");

			String accessToken = jwtProvider.createToken(principalUser);
			response.sendRedirect("http://localhost:3000/auth/oauth2/signin" +
							"?token=" + URLEncoder.encode(accessToken, "UTF-8"));
    }
```
- Jwtí† í°ì— ê°„í¸ë¡œê·¸ì¸ì„ ì œê³µí•œ íšŒì‚¬ì˜ ì´ë¦„ì„ ë„£ì–´ì£¼ê¸° ìœ„í•´ providerë¥¼ ì¶”ê°€
- íšŒì›ê°€ì…í•œ ì‚¬ìš©ìê°€ ì—†ì„ ê²½ìš° íšŒì›ê°€ì… í™”ë©´ìœ¼ë¡œ oauth2Idì™€ providerë¥¼ ë‹´ì•„ì„œ ë³´ë‚´ì£¼ì—ˆìŒ
- principalê°ì²´ë¥¼ ìƒì„±í•´ì„œ Jwtí† í°ì„ ìƒì„± í›„ ë¡œê·¸ì¸ í™”ë©´ìœ¼ë¡œ ë³´ë‚´ì£¼ì—ˆìŒ 
<br>

**Controller**
```java
	.and()
	.oauth2Login()
	.successHandler(oauth2SuccessHandler)
	.userInfoEndpoint()
	.userService(principalUserDetailsService);
```
- ê°„í¸ë¡œê·¸ì¸ì„ í—ˆìš©í•˜ê¸°ìœ„í•´ í•„í„°ì— ì½”ë“œ ì¶”ê°€
<br>

  </div>
  </details>
<br>


### **ìƒí’ˆ í˜ì´ì§€**
  <details>
  <summary>ìƒí’ˆ ê´€ë ¨ í˜ì´ì§€ ì˜ìƒ</summary>
  <div markdown="1">
  
![ìƒí’ˆ ê´€ë ¨ í˜ì´ì§€](https://github.com/KoreaIt-J-23-2-3/wnm_project_portfolio/assets/137989661/68a8fd9c-872b-418c-8ef7-760831a1e472)

  </div>
  </details>

  <details>
  <summary>ìƒí’ˆ ëª©ë¡ í˜ì´ì§€ ì½”ë“œ ë¦¬ë·°</summary>
  <div markdown="1">
    
## ê°ì²´

**ê²€ìƒ‰ ìš”ì²­ RequestDto**
```java
@AllArgsConstructor
@NoArgsConstructor
@Data
public class SearchMasterProductReqDto {
    private String petTypeName;
    private String productCategoryName;
    private String searchOption;
    private String searchValue;
    private String sortOption;
    private int pageIndex;
}
```
- ê²€ìƒ‰ ì¡°ê±´ì— í•´ë‹¹í•˜ëŠ” ìƒí’ˆ ì •ë³´ë¥¼ ë°›ì•„ì˜¤ê¸° ìœ„í•œ ìš”ì²­ Dto

<br>

**ìƒí’ˆ ë°ì´í„° ResponseDto**
```java
@Data
@Builder
public class GetAllProductsRespDto {
    private int productMstId;
    private String productName;
    private String petTypeId;
    private String productCategoryId;
    private String productThumbnailUrl;
    private String minPrice;
    private String maxPrice;
    private int tempStock;
}
```
- front-endì—ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ìƒí’ˆ ëª©ë¡ ë°ì´í„° Dto<br>ê¸°ë³¸ì ì¸ ì •ë³´ì™€ ìµœì†Œê°€ê²©, ìµœëŒ€ê°€ê²©, ëª¨ë“  ì¬ê³ ì˜ ì´ í•©ì„ í¬í•¨í•œ ì •ë³´ë¥¼ ë‹´ê³ ìˆë‹¤.

<br>


## Front-End

**ìš”ì²­ ì½”ë“œ**
```javascript
const [ oldSearchData, setOldSearchData ] = useState({
    petTypeName: type,
    productCategoryName: !!category ? category : 'all',
    searchOption: "all",
    searchValue: "",
    sortOption: "name",
    pageIndex: 1
});
const [ searchData, setSearchData ] = useState({
    petTypeName: type,
    productCategoryName: !!category ? category : 'all',
    searchOption: "all",
    searchValue: "",
    sortOption: "name",
    pageIndex: 1
});
const getProducts = useQuery(["getProducts"], async () => {
    try {
        const response = getAllProductsApi(searchData);
        return await response
    } catch(error) {
        console.log(error)
    }
}, {
    retry: 0,
    refetchOnWindowFocus: false,
    onSuccess: response => {
        setOldSearchData(searchData)
        setProducts(response?.data)
    }
})
const getProductsPagenation = useQuery(["getProductsPageNation"], async () => {
    try {
        const response = getProductsCountApi(searchData);
        return response;
    } catch (error) {
        console.error("Error in getProductsCountApi:", error);
        throw error;
    }
},
{
    retry: 0,
    refetchOnWindowFocus: false,
    onSuccess: response => {
        const respLastPage = getLastPage(response?.data, 12);
        setLastPage(respLastPage)
        const respStartIndex = getStartIndex(currentPage)
        setStartIndex(respStartIndex)
        const respEndIndex = getEndIndex(respStartIndex, respLastPage);
        setEndIndex(respEndIndex)
        const respTotalPageIndex = getTotalPageIndex(respStartIndex, respEndIndex)
        setTotalPageIndex(respTotalPageIndex)
    }
})
```
- ëœë”ë§ ì‹œ ìš”ì²­ì— ê²€ìƒ‰ ê°ì²´ë¥¼ ë‹´ì•„ì„œ ì¡°ê±´ì— ì¼ì¹˜í•˜ëŠ” ìƒí’ˆ ì •ë³´ì™€ pagenationì— í•„ìš”í•œ ë°ì´í„°ë¥¼ ë°›ì•„ì˜¨ë‹¤.<br>ê·¸ë¦¬ê³  í˜ì´ì§€ ë³€ê²½ ì‹œ ë‹¤ë¥¸ ê²€ìƒ‰ ì¡°ê±´ë“¤ê³¼ ì¶©ëŒì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ê¸°ì¡´ ê²€ìƒ‰ ì¡°ê±´ì„ oldSearchDataì— ì €ì¥í•´ ë‘”ë‹¤.

<br>



**í™”ë©´ ì¶œë ¥ ì½”ë“œ**

```javascript
return (
  <RootContainer>
      <div css={S.SLayout}>
          <div css={S.SSubContainer}>
              <div css={S.SSelectBox}>
                  <select 
                      options={sortOptions}
                      onChange={handleSortOptionChange}>
                          {sortOptions.map(option => {
                              return <option name='sortOption' key={option.label} value={option.value}>{option.label}</option>
                          })}
                  </select> 
                  <input type="text" name='value' onKeyDown={handleOnKeyPress} onChange={handleSearchInputChange} value={searchInput}/>
                  <button onClick={handleSearchButtonClick}>ê²€ìƒ‰</button>
              </div>
          </div>
          <div css={S.SProductContainer}>
              {!getProducts.isLoading && getProducts?.data?.data.map((product) => {
                  return  <div css={S.SProductBox} key={product.productMstId} >
                              <ul>
                                  <li onClick={handleProductOnclick}>
                                      <img id={product.productMstId} src={product.productThumbnailUrl} alt="" />
                                      <h3>{product.productName}</h3>
                                      <p>
                                          ê°€ê²© : {product.tempStock <= 0 ? "í’ˆì ˆ" : product.minPrice?.slice(4, product.minPrice.lastIndexOf())}
                                      </p>
                                  </li>
                              </ul>
                          </div>
              })}
          </div>
          <div css={S.SPageButtonBox}>
              <button
                  onClick={() => handlePageClick(searchData.pageIndex - 1)}
                  disabled={currentPage === 1}
                  >
                      {"<"}
              </button>
              {totalPageIndex.map((page, index) => (
                  <button 
                      css={currentPage === page ? S.selectedPageButton : S.PageButton}
                      name="totalPageIndex"
                      onClick={() => handlePageClick(page)}
                      key={index}>
                      {page}
                  </button>
              ))}
              <button
                  onClick={() => handlePageClick(searchData.pageIndex + 1)}
                  disabled={currentPage === lastPage}
                  >
                      {">"}
              </button>
          </div>
      </div>
  </RootContainer>
);
```
- ê²€ìƒ‰ ì˜µì…˜ì„ ë³€ê²½í•˜ëŠ” ë¶€ë¶„ì€ ê° ê¸°ëŠ¥ë³„ë¡œ onChangeë¥¼ ì‚¬ìš©í•˜ì—¬ searchDataë¥¼ ë³€ê²½í•œë‹¤.
- back-endì—ì„œ ì‘ë‹µë°›ì€ ë°ì´í„°ë¥¼ mapì„ ì‚¬ìš©í•˜ì—¬ í™”ë©´ì— ì¶œë ¥í•œë‹¤.


    
## Back-End 

**Controller**
```java
@GetMapping("api/products/minmax")
public ResponseEntity<?> searchProductsWithMinPriceAndMaxPrice(SearchMasterProductReqDto searchMasterProductReqDto) {
    return ResponseEntity.ok().body(productService.searchProductsWithMinPriceAndMaxPrice(searchMasterProductReqDto));
}
@GetMapping("api/products/count")
public ResponseEntity<?> getCountOfSearchedProducts(SearchMasterProductReqDto searchMasterProductReqDto) {
    return ResponseEntity.ok().body(productService.getCountOfSearchedProducts(searchMasterProductReqDto));
}
```

<br>

**Service**
```java
public List<GetAllProductsRespDto> searchProductsWithMinPriceAndMaxPrice(SearchMasterProductReqDto searchMasterProductReqDto) {
    try {
        List<GetAllProductsVo> getAllProductsVo = productMapper.searchProductsWithMinPriceAndMaxPrice(searchMasterProductReqDto.toSearchProduct());
        List<GetAllProductsRespDto> respDto = new ArrayList<>();
        getAllProductsVo.forEach(vo -> {
                    String allSizeAndPrice = vo.getSizeAndPrice();
                    String[] sizeAndPrice = allSizeAndPrice.split(", ");
                    List<String> priceList = new ArrayList<>();
                    for(String price: sizeAndPrice) {
                        priceList.add(price);
                    }
                    String minPrice = priceList.get(0).replace("/ ", ": ");
                    String maxPrice = "";
                    if (priceList.size() == 2) {
                        maxPrice = priceList.get(1).replace("/ ", ": ");
                    }
                    respDto.add(vo.toRespDto(minPrice, maxPrice));
                }
        );
        return respDto;
    }catch (Exception e) {
        throw new ProductException
                (errorMapper.errorMapper("ìƒí’ˆ ì˜¤ë¥˜", "ìƒí’ˆ ê²€ìƒ‰ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤."));
    }
}

public int getCountOfSearchedProducts(SearchMasterProductReqDto searchMasterProductReqDto) {
    try {
        return productMapper.selectCountOfSearchedProducts(searchMasterProductReqDto.toSearchProduct());
    }catch (Exception e) {
        throw new ProductException
                (errorMapper.errorMapper("ìƒí’ˆ ì˜¤ë¥˜", "ìƒí’ˆ ë¦¬ìŠ¤íŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤."));
    }
}
```
- ìƒí’ˆ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ë©´ì„œ ë¬¸ìì—´ë¡œ ë‚˜ëˆ ì§„ ë°ì´í„° í˜•íƒœë¥¼ substringì„ í™œìš©í•˜ì—¬ key, value í˜•íƒœë¡œ ë¶„ë¥˜í•˜ì—¬ ì‘ë‹µí•œë‹¤.

<br>

**Repository**
```java
public List<GetAllProductsVo> searchProductsWithMinPriceAndMaxPrice(SearchMasterProductVo searchMasterProductVo);
public Integer selectCountOfSearchedProducts(SearchMasterProductVo searchMasterProductVo);
```

<br>

**Mybatis Query**
```java
<select id="searchProductsWithMinPriceAndMaxPrice" resultMap="productsWithMinPriceAndMaxPriceMap" >
    select
        pmt.product_mst_id,
        pmt.product_name,
        ptt.pet_type_id,
        pct.product_category_id,
        pmt.product_thumbnail_url,
        GROUP_CONCAT(CONCAT('(', st.size_name, '/ ', pdt.price, ')') SEPARATOR ', ') AS sizes_and_prices,
        (select
            sum(temp_stock)
        from
            product_stock_view psv
            left outer join product_dtl_tb pdt on(pdt.product_dtl_id = psv.product_dtl_id)
            left outer join product_mst_tb subpmt on(subpmt.product_mst_id = pdt.product_mst_id)
        where
            subpmt.product_mst_id = pmt.product_mst_id
        group by
            pmt.product_mst_id) as temp_stock
    from
        product_mst_tb pmt
        left outer join (select
                            product_dtl_id,
                            product_mst_id,
                            row_number() over(partition by product_mst_id order by price) as num,
                            row_number() over(partition by product_mst_id order by price desc) as num2,
                            size_id,
                            price
                        from
                            product_dtl_tb)
        pdt on(pdt.product_mst_id = pmt.product_mst_id and (pdt.num = 1 or pdt.num2 = 1))
        left outer join size_tb st on(st.size_id = pdt.size_id)
        left outer join pet_type_tb ptt on(ptt.pet_type_id = pmt.pet_type_id)
        left outer join product_category_tb pct on(pct.product_category_id = pmt.product_category_id)
    where
    1 = 1
    <choose>
        <when test="searchOption.equals('number')">
            <if test="!searchValue.equals('')">
                and pmt.product_mst_id = #{searchValue}
            </if>
        </when>
        <when test="searchOption.equals('name')">
            and pmt.product_name like concat("%", #{searchValue}, "%")
        </when>
        <otherwise>
            and (pmt.product_name like concat("%", #{searchValue}, "%")
            or pct.product_category_name like concat("%", #{searchValue}, "%")
            or ptt.pet_type_name like concat("%", #{searchValue}, "%"))
        </otherwise>
    </choose>
    <if test="!petTypeName.equals('all')">
        and ptt.pet_type_name_eng = #{petTypeName}
    </if>
    <if test="!productCategoryName.equals('all')">
        and pct.product_category_name_eng = #{productCategoryName}
    </if>
    group by
        pmt.product_mst_id
    order by
    <choose>
        <when test="sortOption.equals('name')">
            pmt.product_name COLLATE utf8mb4_unicode_ci
        </when>
        <when test="sortOption.equals('number')">
            pmt.product_mst_id desc
        </when>
        <when test="sortOption.equals('lowprice')">
            pdt.price asc
        </when>
        <when test="sortOption.equals('highprice')">
            pdt.price desc
        </when>
        <otherwise>
            pmt.product_mst_id desc
        </otherwise>
    </choose>
    limit
    #{pageIndex}, #{limit}
</select>


<select id="selectCountOfSearchedProducts" parameterType="com.woofnmeow.wnm_project_back.vo.SearchMasterProductVo" resultType="java.lang.Integer">
    select
        count(*)
    from
        product_mst_tb pmt
        left outer join pet_type_tb ptt on(ptt.pet_type_id = pmt.pet_type_id)
        left outer join product_category_tb pct on(pct.product_category_id = pmt.product_category_id)
    where
        1 = 1
    <choose>
        <when test="searchOption.equals('number')">
            <if test="!searchValue.equals('')">
                and pmt.product_mst_id = #{searchValue}
            </if>
        </when>
        <when test="searchOption.equals('name')">
            and pmt.product_name like concat("%", #{searchValue}, "%")
        </when>
        <otherwise>
            and (pmt.product_name like concat("%", #{searchValue}, "%")
            or pct.product_category_name like concat("%", #{searchValue}, "%")
            or ptt.pet_type_name like concat("%", #{searchValue}, "%"))
        </otherwise>
    </choose>
    <if test="!petTypeName.equals('all')">
        and ptt.pet_type_name_eng = #{petTypeName}
    </if>
    <if test="!productCategoryName.equals('all')">
        and pct.product_category_name_eng = #{productCategoryName}
    </if>
</select>
```

- ìƒí’ˆì˜ ê¸°ë³¸ ì •ë³´ì— ì¶”ê°€ë¡œ ìµœì†Œê°€ê²©ê³¼ ìµœëŒ€ê°€ê²©, ê·¸ë¦¬ê³  ëª¨ë“  ì¬ê³ ì˜ ì´í•©ì„ ì‘ë‹µ ê°ì²´ë¡œ ë°˜í™˜í•œë‹¤.<br>ëª¨ë“  ì¬ê³ ì˜ ì´í•©ì´ 0ì´í•˜ì¼ ê²½ìš° front-endì—ì„œ í’ˆì ˆë¡œ ì¶œë ¥í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤.

- ê²€ìƒ‰ ì¡°ê±´ì— ì¼ì¹˜í•˜ëŠ” ìƒí’ˆì˜ ê°¯ìˆ˜ë„ pagenationê¸°ëŠ¥ì„ ìœ„í•´ ì‘ë‹µí•œë‹¤.

  </div>
  </details>
  




  <details>
  <summary>ìƒí’ˆ ìƒì„¸ ë‚´ìš© í˜ì´ì§€ ì½”ë“œ ë¦¬ë·°</summary>
  <div markdown="1">
    
## ê°ì²´

**ResponseDto**
```java
@Data
@Builder
public class GetProductRespDto {
    private String productName;
    private String productDetailText;
    private String productThumbnailUrl;
    private String productDetailUrl;
    private int petTypeId;
    private String petTypeName;
    private int productCategoryId;
    private String productCategoryName;
    private String createDate;

    private List<ProductDtl> productDtlList;
}
```
- ìƒí’ˆì— ëŒ€í•œ ì´ë¦„, ì„¤ëª…, ì‚¬ì§„ ë“±ì€ ìƒìœ„ ê°ì²´ì— ë‹´ê²¨ìˆê³ , ê° ì‚¬ì´ì¦ˆë³„ ê°€ê²©ê³¼ ì¬ê³ ëŠ” productDtlListì— ë‹´ì•„ì„œ ì‘ë‹µ



## Front-End

**ìš”ì²­ ì „ì†¡**
```javascript
const { productId } = useParams();

const getProduct = useQuery(["getProduct"], async () => {
    try {
        const response = getProductMstApi(productId);
        return await response
        
    } catch(error) {
        console.log(error)
    }
}, {
    refetchOnWindowFocus: false,
    onSuccess: response => {
        setProduct(response.data)
    }
})

const getReviewByProduct = useQuery(["getReviewByProduct"], async () => {
    try {
        const option = {
            headers: {
                Authorization: localStorage.getItem("accessToken")
            }
        }
        const response = await getReviewByProductApi(productId, option);
        return response;
    } catch (error) {
        console.log(error)
    }
}, {
    refetchOnWindowFocus: false,
    onSuccess: response => {
        setProductReview(response?.data)
    }
})
```
- ìƒí’ˆ ëª©ë¡ í˜ì´ì§€ì—ì„œ ìƒí’ˆì„ í´ë¦­ ì‹œ, paramsë¡œ ìƒí’ˆIdë¥¼ ë°›ì•„ì„œ í•´ë‹¹ ìƒí’ˆì— ìƒì„¸ì •ë³´(ëª¨ë“  ì‚¬ì´ì¦ˆì˜ ê°€ê²©ê³¼ ì¬ê³ ë¥¼ í¬í•¨)ì™€ ë¦¬ë·°ë¥¼ ì¡°íšŒí•˜ë„ë¡ ìš”ì²­ ì „ì†¡

<br>

**í™”ë©´ ì¶œë ¥**
```javascript
return (
    <RootContainer>
        <div>
          <div css={S.SLayout}>
              <div css={S.STopContainer} >
                  <div>
                      <img css={S.SThumbnailImg} src={product.productThumbnailUrl} />
                  </div>
                  <div css={S.SOrderInfoBox}>
                      <h2>{product.productName}</h2>
                      <p dangerouslySetInnerHTML={{__html: product.productDetailText}}></p>
                      <div css={S.SSelectBox}>
                          <Select css={S.SSelect} onChange={selectOnChange} options={product.productDtlList?.map(pdt => {
                              return {
                                  value: pdt.productDtlId,
                                  label: `${pdt.size.sizeName === "no" ? product.productName : pdt.size.sizeName}${pdt.tempStock > 0 ? "(ìˆ˜ëŸ‰: " + pdt.tempStock + ")" : "(í’ˆì ˆ)"}`};
                          })
                          }/>
                      </div>
                      <ul css={S.SOrderListBox}>
                          {selectedProducts.map((selectedProduct, index) => 
                              <li key={index}>
                                  <div css={S.SListBox}>
                                      <h5>
                                          {product.productName}<br/>
                                          -{selectedProduct.sizeName}
                                      </h5>
                                      <input type="number" defaultValue={1} min={1} max={99} onChange={(e) => countOnChange(e.target, index)}/>
                                      <p>{selectedProduct.price.toLocaleString("ko-KR")}ì›</p>
                                      <button onClick={() => handleDeleteProductOnClick(index)}>X</button>
                                  </div>
                              </li>
                          )}
                      </ul>
                      <div css={S.SPriceInfo}>
                          <p>Total</p>
                          <h3>{selectedProducts.reduce((total, selectedProduct) => {
                              return total += selectedProduct.price}, 0).toLocaleString("ko-KR")}ì›</h3>
                      </div>
                      <div css={S.SButtonBox}>
                          <button onClick={buyNowOnClick}>BUY NOW</button>
                          <button onClick={handleAddToCartOnClick}>ADD TO CART</button>
                      </div>
                  </div>
              </div>
              <div css={S.SDetailContainer}>
                  <img css={S.SDDetailImg} src={product.productDetailUrl} alt="" />
              </div>
          </div>
          <div css={S.SReviewContainer}>
              <div css={S.SH1}>ê³ ê°ë‹˜ë“¤ì˜ ì†Œì¤‘í•œ êµ¬ë§¤í›„ê¸° â­</div>
              <ul>
                  {productReview.map(rev => {
                      return <li>
                          <div css={S.SReviewList}>
                              <div css={S.SreviewHeader}>
                                  <img src={rev.profileUrl} alt=""/>
                                  <div css={S.SNickname}>{rev.nickname}</div>
                                  <div css={S.SProductSizeBox}>
                                      <div>{product.productName} / </div>
                                      <div> size {rev.sizeName}</div>
                                  </div>
                                  <div css={S.SReivewDate}>{rev.reviewDate}</div>
                              </div>
                              <div css={S.SReviewContentBox}>
                                  {!!rev.reviewImgUrl ? <div><img src={rev.reviewImgUrl} alt="" css={S.SReviewImg}/></div> : <div></div>}
                                  <div css={S.SReviewContent}>{rev.reviewContent}</div>
                              </div>
                          </div>
                      </li>
                  })}
              </ul>
          </div>
        </div>
    </RootContainer>
);
```
- ì‘ë‹µë°›ì€ ê°ì²´ì˜ ì‚¬ì´ì¦ˆë³„ ê°€ê²©ê³¼ ì¬ê³ ë¥¼ í™•ì¸í•˜ì—¬ í’ˆì ˆ í˜¹ì€ ê°€ê²©ì„ ì¶œë ¥í•˜ë„ë¡ ì¡°ê±´ ì„¤ì •
- ê²°ì œ ì ˆì°¨ë¥¼ ì§„í–‰í•˜ê±°ë‚˜ ì¥ë°”êµ¬ë‹ˆì— ë‹´ê¸° ì „ ì„ íƒí•œ ìƒí’ˆì˜ ê°¯ìˆ˜ë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ì—¬ëŸ¬ ì‚¬ì´ì¦ˆì˜ ìƒí’ˆì„ ë‹´ì„ ìˆ˜ ìˆë„ë¡ ì½”ë“œê°€ ì‘ì„±ë˜ì—ˆë‹¤.

<br>

**ì˜ˆì™¸ ìƒí™© ì²˜ë¦¬**
```javascript
const buyNowOnClick = () => {
    if(!principal.data) {
        alert("ë¡œê·¸ì¸ í›„ ì‚¬ìš©í•´ì£¼ì„¸ìš”.")
        navigate("/auth/signin")
    } else {
        if(selectedProducts.length === 0) {
            alert("ìƒí’ˆì„ ì„ íƒí•´ì£¼ì„¸ìš”.")
        } else {
            localStorage.setItem("orderData", JSON.stringify(selectedProducts));
            localStorage.setItem("isCart", false);
            navigate("/order")
        }
    }
}

const selectOnChange = (option) => {
    const productDtl = product.productDtlList.filter(pdt => pdt.productDtlId === option.value)[0];

    if(productDtl.tempStock <= 0) {
        alert("í•´ë‹¹ ìƒí’ˆì€ í’ˆì ˆì…ë‹ˆë‹¤.");
        return;
    }

    if(selectedProducts.filter(selectedProduct => selectedProduct.productDtlId === productDtl.productDtlId).length > 0){
        alert("í•´ë‹¹ ìƒí’ˆì€ ì´ë¯¸ ì„ íƒëœ ìƒí’ˆ ì…ë‹ˆë‹¤.");
        return;
    }

    const newSelectedProduct = {
        productDtlId: productDtl.productDtlId,
        sizeName: productDtl.size.sizeName,
        price: productDtl.price,
        count: 1,
        productDtl: {
            price: productDtl.price,
            size: {
                sizeId: productDtl.size.sizeId,
                sizeName: productDtl.size.sizeName
            },
            productMst: {
                productName: product.productName,
                productThumbnailUrl: product.productThumbnailUrl
            }
        },
    }
    setSelectedProducts([...selectedProducts, newSelectedProduct]);
}

const countOnChange = (target, index) => {
    const pdt = product.productDtlList.filter(pdt => pdt.productDtlId === selectedProducts[index].productDtlId)[0]; 
    const updateSelectedPorudcts = [...selectedProducts];
    updateSelectedPorudcts[index].count = parseInt(target.value);
    updateSelectedPorudcts[index].price = pdt.price * parseInt(target.value);

    if(updateSelectedPorudcts[index].count > pdt.tempStock) {
        alert("í˜„ì¬ ì¬ê³  ë³´ë‹¤ ë§ì´ ì„ íƒë˜ì—ˆìŠµë‹ˆë‹¤.")
        target.value = pdt.tempStock;
        return
    }

    setSelectedProducts([...updateSelectedPorudcts]);
}
```
- ì •ìƒì ì¸ ë™ì‘ì´ ì•„ë‹ ê²½ìš°ì˜ ì²˜ë¦¬<br>ex) ë¹„ë¡œê·¸ì¸ êµ¬ë§¤, ìƒí’ˆ ë¯¸ì„ íƒ êµ¬ë§¤, í’ˆì ˆ ìƒí’ˆ êµ¬ë§¤, ì¬ê³ ë³´ë‹¤ ë§ì€ ìˆ˜ëŸ‰ êµ¬ë§¤

<br>

    
## Back-End

**Controller**
```java
@GetMapping("/api/product/master/{productMstId}")
public ResponseEntity<?> getProductByProductMstId(@PathVariable int productMstId) {
    return ResponseEntity.ok().body(productService.getProductByProductMstId(productMstId));
}
```

<br>

**Service**
```java
public GetProductRespDto getProductByProductMstId(int productMstId) {
    try {
        return productMapper.selectProductByProductMstId(productMstId).toProductRespDto();
    }catch (Exception e) {
        throw new ProductException(errorMapper.errorMapper
                ("ìƒí’ˆ ì˜¤ë¥˜", "ìƒí’ˆ ì •ë³´ ì¡°íšŒ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤."));
    }
}
```

<br>

**Repository**
```java
public ProductMst selectProductByProductMstId(int productMstId);
```

<br>

**Mybatis ResultMap**
```java
<resultMap id="productMstMap" type="com.woofnmeow.wnm_project_back.entity.ProductMst">
    <id property="productMstId" column="product_mst_id" />
    <result property="productName" column="product_name" />
    <result property="petTypeId" column="pet_type_id" />
    <result property="productCategoryId" column="product_category_id" />
    <result property="productDetailText" column="product_detail_text" />
    <result property="productThumbnailUrl" column="product_thumbnail_url" />
    <result property="productDetailUrl" column="product_detail_url" />
    <result property="createDate" column="create_date" />
    <association property="petType" resultMap="petTypeMap"/>
    <association property="category" resultMap="categoryMap"/>
    <collection property="productDtlList" javaType="list" resultMap="productDtlMap"/>
</resultMap>

<resultMap id="productDtlMap" type="com.woofnmeow.wnm_project_back.entity.ProductDtl">
    <id property="productDtlId" column="product_dtl_id" />
    <result property="productMstId" column="product_mst_id" />
    <result property="price" column="price" />
    <result property="sizeId" column="size_id" />
    <result property="actualStock" column="actual_stock" />
    <result property="tempStock" column="temp_stock" />
    <association property="size" resultMap="sizeMap" />
</resultMap>

<resultMap id="sizeMap" type="com.woofnmeow.wnm_project_back.entity.Size">
    <id property="sizeId" column="size_id"/>
    <result property="sizeName" column="size_name"/>
</resultMap>

<resultMap id="petTypeMap" type="com.woofnmeow.wnm_project_back.entity.PetType">
    <id property="petTypeId" column="pet_type_id"/>
    <result property="petTypeName" column="pet_type_name"/>
</resultMap>

<resultMap id="categoryMap" type="com.woofnmeow.wnm_project_back.entity.Category">
    <id property="productCategoryId" column="product_category_id"/>
    <result property="productCategoryName" column="product_category_name"/>
</resultMap>
```

<br>

**Mybatis Query**
```java
<select id="selectProductByProductMstId" resultMap="productMstMap">
    select
        pdt.product_dtl_id,
        pmt.product_mst_id,
        pmt.product_name,
        pdt.price,
        ptt.pet_type_id,
        ptt.pet_type_name,
        pct.product_category_id,
        pct.product_category_name,
        st.size_id,
        st.size_name,
        pmt.product_detail_text,
        pmt.product_thumbnail_url,
        pmt.product_detail_url,
        psv.actual_stock,
        psv.temp_stock,
        pmt.create_date
    from
        product_mst_tb pmt
        left outer join  product_dtl_tb pdt on(pdt.product_mst_id = pmt.product_mst_id)
        left outer join product_category_tb pct on(pct.product_category_id = pmt.product_category_id)
        left outer join pet_type_tb ptt on(ptt.pet_type_id = pmt.pet_type_id)
        left outer join size_tb st on(st.size_id = pdt.size_id)
        left outer join product_stock_view psv on(psv.product_dtl_id = pdt.product_dtl_id)
    where
        pmt.product_mst_id = #{productMstId}
</select>
```
- resultMap collectionì„ ì´ìš©í•˜ì—¬ productMst ê°ì²´ í•˜ìœ„ì— productDtlì´ ë³µìˆ˜ì˜ Listë¡œ ì‘ë‹µ ê°€ëŠ¥í•˜ë„ë¡ ì½”ë“œ ì‘ì„±

  </div>
  </details>
  
  
<br/>

### **ì¥ë°”êµ¬ë‹ˆ í˜ì´ì§€**
  <details>
  <summary>ì¥ë°”êµ¬ë‹ˆ í˜ì´ì§€ ì˜ìƒ</summary>
  <div markdown="1">
  
  ![ì¥ë°”êµ¬ë‹ˆ í˜ì´ì§€](https://github.com/KoreaIt-J-23-2-3/wnm_project_portfolio/assets/137989661/3470cdfe-7dd3-4f4b-bc49-ef36879245fe)

  
  </div>
  </details>
  
  <details>
  <summary>ì¥ë°”êµ¬ë‹ˆ í˜ì´ì§€ ì½”ë“œ ë¦¬ë·°</summary>
  <div markdown="1">

  ## Front-End
  **ì¥ë°”êµ¬ë‹ˆ ë“±ë¡**
  ```javascript
       const handleAddToCartOnClick = async () => {
        try {
            const option = {
                headers: {
                    Authorization: localStorage.getItem("accessToken")
                }
            }
            if(!principal.data) {
                alert("ë¡œê·¸ì¸ í›„ ì‚¬ìš©í•´ì£¼ì„¸ìš”.")
                navigate("/auth/signin")
            } else {
                if(selectedProducts.length === 0) {
                    alert("ìƒí’ˆì„ ì„ íƒí•´ì£¼ì„¸ìš”.")
                } else {
                    if(window.confirm("í•´ë‹¹ ìƒí’ˆì„ ì¥ë°”êµ¬ë‹ˆì— ë‹´ê² ìŠµë‹ˆê¹Œ?")) {
                        addToCartApi(principal.data.data.userId, [...selectedProducts], option);
                        alert("ì¥ë°”êµ¬ë‹ˆì— ìƒí’ˆì´ ì •ìƒì ìœ¼ë¡œ ë‹´ê²¼ìŠµë‹ˆë‹¤.")
                        navigate(`/product/cart/${principal?.data?.data?.userId}`)
                    } else {
                        alert("ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.")
                    }
                }
            }
        } catch(error) {
            console.log(error)
        }
    }
  ```
  - ë¡œê·¸ì¸(accessToken) ìƒíƒœì—ì„œ ì¥ë°”êµ¬ë‹ˆ ë“±ë¡ì´ ê°€ëŠ¥í•˜ë‹¤
  - selectProduct ì•ˆì—ëŠ” ìƒí’ˆì˜ ìƒì„¸IDì™€ ìƒí’ˆ ìˆ˜ëŸ‰ì˜ ë°ì´í„°ê°€ ë“¤ì–´ê°€ ìˆë‹¤.
  <br/>
  
  **ì¥ë°”êµ¬ë‹ˆ ì¡°íšŒ**
  ```javascript
       const getCartProducts = useQuery(["getCartProducts"], async () => {
        try {
            const option = {
                headers: {
                    Authorization: localStorage.getItem("accessToken")
                }
            }
            const response = getCartApi(principal.data.data.userId, option);
            return await response;
        } catch(error) {
            console.log(error)
        }
    }, {
        refetchOnWindowFocus: false,
        onSuccess: response => {
            setCartProducts(!response?.data ? [] : response.data);
        }
    })
  ```
  - React-Queryë¥¼ ì‚¬ìš©í•˜ì—¬ ì¥ë°”êµ¬ë‹ˆ ìƒí’ˆ ì¡°íšŒë¥¼ í•  ìˆ˜ ìˆë‹¤.
  - í•´ë‹¹ ë¡œê·¸ì¸í•œ userIdë§Œ ì¡°íšŒê°€ ê°€ëŠ¥í•˜ë‹¤.
  <br/>

  **ì¥ë°”êµ¬ë‹ˆ ì‚­ì œ**
 ```javascript
    const handleDeleteProductOnClick = async (index) => {
        
        if(window.confirm("ì„ íƒí•˜ì‹  ìƒí’ˆì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ? ")) {
            try {
                const option = {
                    headers: {
                        Authorization: localStorage.getItem("accessToken")
                    }
                }

                const response = await deleteCartApi(cartProducts[index].cartId, option);
                if (response.data === true) {
                    const deleteProduct = [...cartProducts]
                    deleteProduct.splice(index, 1);
                    setCartProducts(deleteProduct);
                    window.location.reload();
                } else {
                    throw new Error("ìƒí’ˆ ì‚­ì œ ì‹¤íŒ¨")
                }
            } catch(error) {
                console.log(error)
            }
        }else {
            return;
        }
    }
 ```
  - ì¥ë°”êµ¬ë‹ˆ í˜ì´ì§€ì—ì„œ í•´ë‹¹ ë¡œê·¸ì¸í•œ userIdë§Œ ì‚­ì œê°€ ê°€ëŠ¥í•˜ë‹¤.
  <br/>

  
  ## Back-End
  **Controller**
  ```java
    // ì¥ë°”êµ¬ë‹ˆ ë“±ë¡
    @PostMapping("/api/cart/{userId}")
    public ResponseEntity<?> addProductToCart(@PathVariable int userId, @RequestBody List<AddCartReqDto> addCartReqDto) {
        return ResponseEntity.ok(cartService.addProductToCart(userId, addCartReqDto));
    }

    // ì¥ë°”êµ¬ë‹ˆ ì¡°íšŒ
    @GetMapping("/api/cart/{userId}")
    public ResponseEntity<?> getCartByUserId(@PathVariable int userId) {
        return ResponseEntity.ok(cartService.getCartByUserId(userId));
    }

    // ì¥ë°”êµ¬ë‹ˆ ì‚­ì œ
    @DeleteMapping("/api/cart/{cartId}")
    public ResponseEntity<?> removeProductOfCart(@PathVariable int cartId) {
        return ResponseEntity.ok(cartService.removeProductOfCart(cartId));
    }
  ```
  - ì¥ë°”êµ¬ë‹ˆ ë“±ë¡ ê°™ì€ ê²½ìš° Listí˜•íƒœë¡œ ì˜¬ìˆ˜ê°€ ìˆì–´ Listë¡œ ë°ì´í„°ë¥¼ ë°›ëŠ”ë‹¤
  <br/>

  **Dto**
  ```java
  @NoArgsConstructor
  @AllArgsConstructor
  @Builder
  @Data
  public class AddCartReqDto {
      private int productDtlId;
      private int count;
  
      public Cart toCartProductsEntity(int userid) {
          return Cart.builder()
                  .userId(userid)
                  .productDtlId(productDtlId)
                  .count(count)
                  .build();
      }
  }
  ```
  - DtoëŠ” ìƒí’ˆì˜ ìƒì„¸IDì™€ ìƒí’ˆ ìˆ˜ëŸ‰ì˜ ë°ì´í„°ë§Œ ë°›ê³  Builderë¥¼ í†µí•´ Entityë¡œ ë³€í™˜í•œë‹¤.
  - userIdëŠ” ë¡œê·¸ì¸í•œ íšŒì›ì˜ userIdë¥¼ ë„£ëŠ”ë‹¤.
  ```java
  @Data
  @Builder
  public class GetUserCartProductsRespDto {
      private int cartId;
      private int productDtlId;
      private int count;
  
      private ProductDtl productDtl;
  }
  ```
  - ì¥ë°”êµ¬ë‹ˆ ì¡°íšŒëŠ” ì¥ë°”êµ¬ë‹ˆIDì™€ ìƒí’ˆìƒì„¸ID, ìƒí’ˆìˆ˜ëŸ‰ ê·¸ë¦¬ê³  ìƒí’ˆìƒì„¸ì— ëŒ€í•œ Entityì˜ ë°ì´í„°ë¥¼ Frontë¡œ ë³´ë‚´ì¤€ë‹¤.
  <br/>

  **Entity**
  ```java
  @NoArgsConstructor
  @AllArgsConstructor
  @Builder
  @Data
  public class Cart {
      private int cartId;
      private int userId;
      private int productDtlId;
      private int count;
  
      private ProductDtl productDtl;
  
      public GetUserCartProductsRespDto toGetUserCartProductsRespDto() {
          return GetUserCartProductsRespDto.builder()
                  .cartId(cartId)
                  .productDtlId(productDtlId)
                  .count(count)
                  .productDtl(productDtl)
                  .build();
      }
  }
  ```
  - Entityì—ì„œ ResponseDtoë¡œ ë³€í™˜í•˜ëŠ” ë¡œì§ì´ë‹¤.
  <br/>

  **Repository**
  ```java

  @Mapper
  public interface CartMapper {
    // ì¥ë°”êµ¬ë‹ˆ ë“±ë¡
    public int insertCart(Cart cart);

    // ì¥ë°”êµ¬ë‹ˆ ì¡°íšŒ
    public List<Cart> selectCartByUserId(int userId);

    // ì¥ë°”êµ¬ë‹ˆ ì‚­ì œ
    public int deleteProductOfCart(int cartId)
  }
  ```
  - Mapperë¥¼ í†µí•´ì„œ DB(MyBatis)ì™€ ë§¤í•‘í•´ì£¼ëŠ” ì—­í• 
  <br/>
  
  
  **mapper(MyBatis)**
  ```xml
   <resultMap id="cartMap" type="com.woofnmeow.wnm_project_back.entity.Cart">
        <id property="cartId" column="cart_id"/>
        <result property="userId" column="user_id"/>
        <result property="productDtlId" column="product_dtl_id"/>
        <result property="count" column="count"/>
        <association property="productDtl" resultMap="productDtlMap"/>
    </resultMap>

    <resultMap id="productDtlMap" type="com.woofnmeow.wnm_project_back.entity.ProductDtl">
        <id property="productDtlId" column="product_dtl_id" />
        <result property="productMstId" column="product_mst_id" />
        <result property="price" column="price" />
        <result property="sizeId" column="size_id" />
        <result property="actualStock" column="actual_stock" />
        <result property="tempStock" column="temp_stock" />
        <association property="productMst" resultMap="productMstMap"/>
        <association property="size" resultMap="sizeMap"/>
    </resultMap>

    <resultMap id="productMstMap" type="com.woofnmeow.wnm_project_back.entity.ProductMst">
        <id property="productMstId" column="product_mst_id"/>
        <result property="productName" column="product_name"/>
        <result property="productCategoryId" column="product_category_id"/>
        <result property="productDetailText" column="product_detail_text"/>
        <result property="productThumbnailUrl" column="product_thumbnail_url"/>
        <result property="productDetailUrl" column="product_detail_url"/>
        <result property="createDate" column="create_date"/>
        <association property="petType" resultMap="petTypeMap" />
        <association property="category" resultMap="categoryMap" />
    </resultMap>

    <resultMap id="petTypeMap" type="com.woofnmeow.wnm_project_back.entity.PetType">
        <id property="petTypeId" column="pet_type_id"/>
        <result property="petTypeName" column="pet_type_name"/>
    </resultMap>

    <resultMap id="categoryMap" type="com.woofnmeow.wnm_project_back.entity.Category">
        <id property="productCategoryId" column="product_category_id"/>
        <result property="productCategoryName" column="product_category_name"/>
    </resultMap>

    <resultMap id="sizeMap" type="com.woofnmeow.wnm_project_back.entity.Size">
        <id property="sizeId" column="size_id"/>
        <result property="sizeName" column="size_name"/>
    </resultMap>

    <select id="selectCartByUserId" resultMap="cartMap">
      select
          ct.cart_id,
          ct.count,
          ct.user_id,
          pdt.product_dtl_id,
          pdt.price,
          pmt.product_name,
          pmt.product_thumbnail_url,
          st.size_name,
          psv.actual_stock,
          psv.temp_stock
      from
          cart_tb ct
          left outer join product_dtl_tb pdt on(pdt.product_dtl_id = ct.product_dtl_id)
          left outer join product_mst_tb pmt on(pmt.product_mst_id = pdt.product_mst_id)
          left outer join size_tb st on(st.size_id = pdt.size_id)
          left outer join product_stock_view psv on(psv.product_dtl_id = pdt.product_dtl_id)
      where
          ct.user_id = #{user_id}
    </select>
  ```
  - ì¡°íšŒëŠ” resultMapë¥¼ ì‚¬ìš©í•´ì„œ ìƒí’ˆì˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë„ë¡ í•˜ì˜€ë‹¤.
  
  ```xml
  <insert id="insertCart" parameterType="com.woofnmeow.wnm_project_back.entity.Cart" statementType="CALLABLE">
      {call p_add_cart(#{userId}, #{productDtlId}, #{count})}
  </insert>
  ```
  ```PROCEDURE
  CREATE DEFINER=`woofnmeow`@`%` PROCEDURE `p_add_cart`(
	in vn_user_id int,
	in vn_product_dtl_id int,
    in vn_count int
  )
  BEGIN
  	declare vn_search_count int;
  
  	select
  		count(*) into vn_search_count
      from
  		cart_tb
  	where
  		user_id = vn_user_id
  		and product_dtl_id = vn_product_dtl_id;
  
  	if vn_search_count = 0 then 
  		insert into cart_tb
  		values(0, vn_user_id, vn_product_dtl_id, vn_count);
  	else
  		update cart_tb
  		set count = count + vn_count
  		where
  			user_id = vn_user_id
  		and product_dtl_id = vn_product_dtl_id;
      end if;
  END
  ```
  - ì¥ë°”êµ¬ë‹ˆ ë“±ë¡ SQL ì¿¼ë¦¬ë¬¸ì€ ê°™ì€ ìƒí’ˆì„ ë“±ë¡í• ì‹œ ìˆ˜ëŸ‰ë§Œ ì˜¬ë¼ê°ˆ ìˆ˜ ìˆë„ë¡ í•˜ì—¬ í”„ë¡œì‹œì ¸ë¥¼ ì‚¬ìš©í•˜ì˜€ë‹¤.
  - ì—†ëŠ” ìƒí’ˆì´ë©´ insert / ìˆëŠ” ìƒí’ˆì´ë©´ update 
  
  ```xml
    <delete id="deleteProductOfCart">
        delete
        from
            cart_tb
        where
            cart_id = #{cartId}
    </delete>
  ```
  - ì¥ë°”êµ¬ë‹ˆ ìƒí’ˆì„ ì‚­ì œí•˜ëŠ” SQL ì¿¼ë¦¬ë¬¸ ì´ë‹¤.
  <br/>
  
  **Service**
  ```java
    // ì¥ë°”êµ¬ë‹ˆ ë“±ë¡
    @Transactional(rollbackFor = Exception.class)
    public Boolean addProductToCart(int userId, List<AddCartReqDto> addCartReqDto) {
        try {
            return addCartReqDto.stream()
                    .map(dto -> dto.toCartProductsEntity(userId))
                    .map(cart -> cartMapper.insertCart(cart))
                    .allMatch(successCount -> successCount == 1);
        }catch (Exception e) {
            throw new CartException
                    (errorMapper.errorMapper("ì¥ë°”êµ¬ë‹ˆ ì˜¤ë¥˜", "ìƒí’ˆì„ ì¥ë°”êµ¬ë‹ˆì— ë‹´ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤."));
        }
    }

    // ì¥ë°”êµ¬ë‹ˆ ì¡°íšŒ
    public List<GetUserCartProductsRespDto> getCartByUserId(int userId) {
        try {
            return cartMapper.selectCartByUserId(userId)
                    .stream()
                    .map(Cart::toGetUserCartProductsRespDto)
                    .collect(Collectors.toList());
        }catch (Exception e) {
            throw new CartException
                    (errorMapper.errorMapper("ì¥ë°”êµ¬ë‹ˆ ì˜¤ë¥˜", "ì¥ë°”êµ¬ë‹ˆë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤."));
        }
    }

    // ì¥ë°”êµ¬ë‹ˆ ì‚­ì œ
    @Transactional(rollbackFor = Exception.class)
    public Boolean removeProductOfCart(int cartId) {
        try {
            return cartMapper.deleteProductOfCart(cartId) > 0;
        }catch (Exception e) {
            throw new CartException
                    (errorMapper.errorMapper("ì¥ë°”êµ¬ë‹ˆ ì˜¤ë¥˜", "ì¥ë°”êµ¬ë‹ˆì—ì„œ ìƒí’ˆì„ ì‚­ì œí•˜ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤."));
        }
    }
  ```
  - ì¥ë°”êµ¬ë‹ˆ ë“±ë¡ : ë¡œê·¸ì¸í•œ userIdì™€ ìƒí’ˆ ì •ë³´ë¥¼ ì´ìš©í•˜ì—¬ ì¥ë°”êµ¬ë‹ˆì— ë“±ë¡í•˜ê³  ë‘˜ë‹¤ successCountê°€ 1ì´ë©´ ì„±ê³µ, ì‹¤íŒ¨ì‹œ ë¡¤ë°±ê³¼ ì˜ˆì™¸ì²˜ë¦¬ë¥¼ ë˜ì§„ë‹¤.
  - ì¥ë°”êµ¬ë‹ˆ ì¡°íšŒ : ë¡œê·¸ì¸í•œ userIdë¡œ ì¡°íšŒë¥¼ í•˜ê³  ê° ìƒí’ˆì„ ResponseDtoë¥¼ Listë¡œ ë°˜í™˜í•œë‹¤.
  - ì¥ë°”êµ¬ë‹ˆ ì‚­ì œ : ì¥ë°”êµ¬ë‹ˆ IDë¡œ í•´ë‹¹ë˜ëŠ” ìƒí’ˆì„ ì‚­ì œí•œë‹¤. ì‹¤íŒ¨ì‹œ ë¡¤ë°±ê³¼ ì˜ˆì™¸ì²˜ë¦¬ë¥¼ ë˜ì§„ë‹¤.
  <br/>
  </div>
  </details>

  <br/>
  
### **êµ¬ë§¤ í˜ì´ì§€**
  <details>
  <summary>ìƒí’ˆ ë°”ë¡œ êµ¬ë§¤ ì˜ìƒ</summary>
  <div markdown="1">
  
![ìƒí’ˆ ë°”ë¡œ êµ¬ë§¤](https://github.com/KoreaIt-J-23-2-3/wnm_project_portfolio/assets/137989661/6a0a50f1-67c9-4a6a-a70b-bb9d9aebe435)

  
  </div>
  </details>
  
  <details>
  <summary>ì¥ë°”êµ¬ë‹ˆ êµ¬ë§¤ ì˜ìƒ</summary>
  <div markdown="1">
  
![ì¥ë°”êµ¬ë‹ˆ êµ¬ë§¤](https://github.com/KoreaIt-J-23-2-3/wnm_project_portfolio/assets/137989661/66b8bd78-e5b5-4d61-ab47-5679f7410f82)

  
  </div>
  </details>

  <details>
  <summary>ìƒí’ˆ ë°”ë¡œ êµ¬ë§¤ ë° ì¥ë°”êµ¬ë‹ˆ ìƒí’ˆ êµ¬ë§¤ ì½”ë“œ ë¦¬ë·°</summary>
  <div markdown="1">

  ## Front-End
  **ìƒí’ˆ ë°”ë¡œ êµ¬ë§¤**
  ```javascript
    const buyNowOnClick = () => {
        if(!principal.data) {
            alert("ë¡œê·¸ì¸ í›„ ì‚¬ìš©í•´ì£¼ì„¸ìš”.")
            navigate("/auth/signin")
        } else {
            if(selectedProducts.length === 0) {
                alert("ìƒí’ˆì„ ì„ íƒí•´ì£¼ì„¸ìš”.")
            } else {
                localStorage.setItem("orderData", JSON.stringify(selectedProducts));
                localStorage.setItem("isCart", false);
                navigate("/order")
            }
        }
    }
  ```
  - ì„ íƒí•œ ìƒí’ˆê³¼ isCartë¥¼ ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì— ë‹´ì•„ì„œ êµ¬ë§¤í˜ì´ì§€ë¡œ ë„˜ì–´ê°„ë‹¤.
  <br/>

  **ì¥ë°”êµ¬ë‹ˆ ìƒí’ˆ êµ¬ë§¤**
  ```javascript
    const handleBuyOnClick = () => {
        if(!principal.data) {
            alert("ë¡œê·¸ì¸ í›„ ì‚¬ìš©í•´ì£¼ì„¸ìš”.")
            navigate("/auth/signin")
        } else {
            if(selectedCartProduct.length === 0) {
                alert("ìƒí’ˆì„ ì„ íƒí•´ì£¼ì„¸ìš”.")
            } else {
                const overStockProducts = cartProducts.filter(cp => selectedCartProduct.filter(scp => scp.productDtlId === cp.productDtl.productDtlId)[0]?.count > cp.productDtl.tempStock);
                if(overStockProducts.length > 0) {
                    alert(`ìƒí’ˆì˜ ì¬ê³ ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤.\n${overStockProducts?.map(osp => {
                        return `${osp.productDtl.productMst.productName}[size: ${osp.productDtl.size.sizeName}]\n`
                    }).join("")}`)
                    return
                } 
                localStorage.setItem("orderData", JSON.stringify(selectedCartProduct))
                localStorage.setItem("isCart", true);
                navigate("/order")
            }
        }
    }
  ```
  - ì¥ë°”êµ¬ë‹ˆì— ë‹´ê²¨ìˆëŠ” ìƒí’ˆì¤‘ ì„ íƒí•œ ìƒí’ˆê³¼ isCartë¥¼ ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì— ë‹´ì•„ì„œ êµ¬ë§¤í˜ì´ì§€ë¡œ ë„˜ì–´ê°„ë‹¤.
  - ë§Œì•½ ì„ íƒí•œ ìƒí’ˆì˜ ì¬ê³ ê°€ ë¶€ì¡±í•˜ë©´ ìƒí’ˆì˜ ì¬ê³ ê°€ ë¶€ì¡±í•˜ë‹¤ëŠ” ì•Œë¦¼ì°½ì„ ë„ì›Œì¤€ë‹¤.
  <br/>
  
  **êµ¬ë§¤ í˜ì´ì§€**
  ```javascript
    const [ buyProductList, setBuyProductList ] = useState(JSON.parse(localStorage.getItem("orderData")));
  ```
  - ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì— ë‹´ì•„ì„œ ë„˜ì–´ì˜¨ ìƒí’ˆ ë°ì´í„°ë¥¼ useStateë¡œ ìƒíƒœë¥¼ ê´€ë¦¬í•œë‹¤.
  <br/>

  **êµ¬ë§¤ ë²„íŠ¼(KakaoPay, TossPay)**
 ```javascript
    const handlePaymentSubmit = (provider) => {
        if(!window.IMP) {return} 
        const { IMP } = window;
        IMP.init("imp31774216");

        const paymentData = {
            pg: "",
            pay_method: "",
            merchant_uid: `mid_${new Date().getTime()}`, // êµ¬ë§¤ì ì‹ë³„ì½”ë“œ(ê²°ì œë‚ ,ì‹œê°„)
            amount: priceInfo.finalPrice, // ê¸ˆì•¡
            name:  'Woof&Meow',// ìƒí’ˆì´ë¦„
            buyer_name: principal?.data?.data?.name, // êµ¬ë§¤ì ì´ë¦„
            buyer_email: principal?.data?.data?.email
        }

        switch(provider) {
            case "kakao": 
                paymentData.pg = "kakaopay";
                paymentData.pay_method = "kakaopay";
                break;
            case "toss": 
                paymentData.pg = "tosspay";
                paymentData.pay_method = "tosspay";
                break;
        }

        IMP.request_pay(paymentData, (response) => {
            const { success, error_msg } = response;

            if(success) {
                const option = {
                    headers: {
                        Authorization: localStorage.getItem("accessToken")
                    }
                }

                const order = {
                    userId: principal.data.data.userId,
                    shippingName: shippingUserInfo.name,
                    shippingPhone: shippingUserInfo.phone,
                    shippingAddressNumber: shippingUserInfo.addressNumber,
                    shippingAddressName: shippingUserInfo.addressName,
                    shippingAddressDetailName: shippingUserInfo.addressDetailName,
                    orderProductData: [...buyProductList],
                    isCart: localStorage.getItem("isCart")
                }

                addOrderApi(order, option)
                .then(response => {
                    alert("ê²°ì œê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.");
                    localStorage.removeItem("orderData")
                    navigate("/")
                    console.log(response);
                })
            } else {
                alert(error_msg)
            }
        });
    }
 ```
  - KakaoPay, TossPay ë‘˜ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•˜ì—¬ ê²°ì œë¥¼ í•œë‹¤.
  - ê²°ì œê°€ ì™„ë£Œë˜ë©´ êµ¬ë§¤í• ë•Œ ê¸°ì…í•œ ë°ì´í„°ë“¤ì„ Axiosë¥¼ í†µí•´ Back-Endë¡œ ë³´ë‚´ì¤€ë‹¤.
  - ì´ë•Œ ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì— ìˆëŠ” isCartë„ ê°™ì´ ë³´ë‚´ì¤€ë‹¤.
  <br/>

  
  ## Back-End
  **Controller**
  ```java
    @PostMapping("/api/order")
    public ResponseEntity<?> addOrder(@RequestBody AddOrderReqDto addOrderReqDto) {
        return ResponseEntity.ok().body(orderService.addOrder(addOrderReqDto));
    }
  ```
  - Front-Endì—ì„œ ë„˜ì–´ì˜¨ ë°ì´í„°ë¥¼ AddOrderReqDtoë¡œ ë°›ëŠ” ë¡œì§ì´ë‹¤.
  <br/>

  **Dto**
  ```java
    @Data
    public class AddOrderReqDto {
    // ë°°ì†¡ì§€ ì •ë³´
    private int userId;
    private String shippingName;
    private String shippingPhone;
    private String shippingAddressNumber;
    private String shippingAddressName;
    private String shippingAddressDetailName;
    // ì£¼ë¬¸ ìƒí’ˆ ì •ë³´
    private List<OrderProductsReqDto> orderProductData;
    // ì¥ë°”êµ¬ë‹ˆ êµ¬ë§¤, ë°”ë¡œ êµ¬ë§¤ êµ¬ë³„
    private Boolean isCart;

    public Order toOrderEntity() {
        return Order.builder()
                .userId(userId)
                .shippingName(shippingName)
                .shippingPhone(shippingPhone)
                .shippingAddressNumber(shippingAddressNumber)
                .shippingAddressName(shippingAddressName)
                .shippingAddressDetailName(shippingAddressDetailName)
                .build();
    }
}
  ```
  - Dtoì—ëŠ” êµ¬ë§¤ì‹œ ê¸°ì…í•œ ë°ì´í„°ì™€ isCartê°€ ìˆë‹¤.
  - toOrderEntityëŠ” Dtoì˜ ë°ì´í„°ë¥¼ Entityë¡œ ë³€í™˜í•œë‹¤.
  <br/>

  **Entity**
  ```java
  @NoArgsConstructor
  @AllArgsConstructor
  @Data
  @Builder
  public class Order {
      private int orderId;
      private int userId;
      private LocalDateTime orderDate;
      private String shippingName;
      private String shippingPhone;
      private String shippingAddressNumber;
      private String shippingAddressName;
      private String shippingAddressDetailName;
      private int orderStatus;
  ```
  - Dtoì—ì„œ ë³€í™˜í•œ ë°ì´í„°ë¥¼ ë°›ëŠ” Entityì´ë‹¤.
  - DBì˜ í…Œì´ë¸”ê³¼ ì»¬ëŸ¼ëª…ì´ ë™ì¼í•˜ë‹¤.
  ```java
  @NoArgsConstructor
  @AllArgsConstructor
  @Builder
  @Data
  public class OrderProducts {
      private int orderProductsId;
      private int orderId;
      private int productDtlId;
      private int count;
  ```
  - Order EntityëŠ” ë°°ì†¡ê´€ë ¨ ë°ì´í„°ë¥¼ ë‹´ëŠ” Entityì´ë©´ OrderProductsëŠ” êµ¬ë§¤ ìƒí’ˆì˜ ë°ì´í„°ë¥¼ ë‹´ëŠ” Entityì´ë‹¤.
  <br/>
  
  **Repository**
  ```java
@Mapper
public interface OrderMapper {
    @Options(useGeneratedKeys = true, keyProperty = "orderId")
    public Integer insertOrder(Order order);
    public Integer insertProductsToOrder(Map<String, Object> reqMap);
}
  ```
  - ì£¼ë¬¸ì„ ì¶”ê°€í•˜ê³  ìƒí’ˆë„ ê°™ì´ ì¶”ê°€ë˜ëŠ” ë¡œì§ì´ë‹¤.
  
  ```java
@Mapper
public interface CartMapper {
    public int deleteProductOfCartWhenIsCart(DeleteOrderCartVo deleteOrderCartVo);
}
  ```
  - í•´ë‹¹ ë¡œì§ì€ ì¥ë°”êµ¬ë‹ˆì˜ ìƒí’ˆì„ êµ¬ë§¤í• ì§€ ì¥ë°”êµ¬ë‹ˆ ë“¤ì–´ìˆëŠ” ë°ì´í„°ë¥¼ ì‚­ì œí•˜ëŠ” ë¡œì§ì´ë‹¤.
  <br/>
  
  
  **mapper(MyBatis)**
  ```xml
    <insert id="insertOrder" parameterType="com.woofnmeow.wnm_project_back.entity.Order" useGeneratedKeys="true" keyProperty="orderId">
        insert into
            order_tb
        values
            (0, #{userId}, now(), #{shippingName}, #{shippingPhone}, #{shippingAddressNumber}, #{shippingAddressName}, #{shippingAddressDetailName}, 0)
    </insert>

    <insert id="insertProductsToOrder" parameterType="hashmap">
        insert into
            order_products_tb
        values(0, #{orderId}, #{productDtlId}, #{count})
    </insert>
  ```
  - DBì— ê²°ì œì‹œ ë°°ì†¡ê´€ë ¨ ë°ì´í„°ì™€ êµ¬ë§¤ ìƒí’ˆ ê´€ë ¨ ë°ì´í„°ë¥¼ ì¶”ê°€í•˜ëŠ” SQLì¿¼ë¦¬ë¬¸ì´ë‹¤.
  
  ```xml
    <delete id="deleteProductOfCartWhenIsCart">
        delete
        from
            cart_tb
        where
            user_id = #{userId}
        and product_dtl_id in (
        <foreach collection="products" item="productDtlId" separator=",">
            #{productDtlId}
        </foreach>
        )
    </delete>
  ```
  - ë¡œê·¸ì¸í•œ userIdë¥¼ í†µí•´ ì¥ë°”êµ¬ë‹ˆì— ìˆëŠ” ìƒí’ˆ ëª©ë¡ì„ ì‚­ì œí•˜ëŠ” SQLì¿¼ë¦¬ë¬¸ì´ë‹¤.
  <br/>

  **Vo**
  ```java
  @Builder
  @Data
  public class DeleteOrderCartVo {
      private int userId;
      private List<Integer> products;
  }
  ```
  - ì¥ë°”êµ¬ë‹ˆ ìƒí’ˆì„ êµ¬ë§¤í• ì‹œ ì‚­ì œí•  ìƒí’ˆì˜ ë°ì´í„°ë§Œ ì‚­ì œí•˜ë ¤ê³  VOë¥¼ ì‚¬ìš©í–ˆë‹¤.
  <br/>
  
  **Service**
  ```java
    @Transactional(rollbackFor = Exception.class)
    public boolean addOrder(AddOrderReqDto addOrderReqDto) {
        try {
            Order order = addOrderReqDto.toOrderEntity();
            orderMapper.insertOrder(order);
            addOrderReqDto.getOrderProductData().forEach(productData -> {
                orderMapper.insertProductsToOrder(productData.toProductDtlMap(order.getOrderId()));
            });
            if(addOrderReqDto.getIsCart()) {
                cartMapper.deleteProductOfCartWhenIsCart(DeleteOrderCartVo.builder()
                        .userId(addOrderReqDto.getUserId())
                        .products(addOrderReqDto.getOrderProductData().stream()
                                .map(orderProduct -> orderProduct.getProductDtlId())
                                .collect(Collectors.toList()))
                        .build());
            }
            return true;
        }catch (Exception e) {
            throw new OrderException
                    (errorMapper.errorMapper("ì£¼ë¬¸ ì˜¤ë¥˜", "ì£¼ë¬¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤."));
        }
    }
  ```
  - insertOrderì—ëŠ” Order ë°°ì†¡ê´€ë ¨ ë°ì´í„°ë¥¼ ë„£ëŠ”ë‹¤.
  - insertProductsToOrderì—ëŠ” Dtoì•ˆì— ìˆëŠ” getOrderProductDataë¥¼ ë°˜ë³µë¬¸ì„ ëŒë ¤ì„œ ë°ì´í„°ë¥¼ ë„£ëŠ”ë‹¤.
  - ë§Œì•½ Dtoì•ˆì— ìˆëŠ” isCartê°€ Trueì´ë©´ ì¥ë°”êµ¬ë‹ˆì— ìˆëŠ” ìƒí’ˆ ë°ì´í„°ë¥¼ ì‚­ì œí•œë‹¤.
  <br/>
  
  </div>
  </details>
<br/>


### **ë¦¬ë·° í˜ì´ì§€**
  <details>
  <summary>ë¦¬ë·° í˜ì´ì§€ ì˜ìƒ</summary>
  <div markdown="1">
  
![ë¦¬ë·° í˜ì´ì§€](https://github.com/KoreaIt-J-23-2-3/wnm_project_portfolio/assets/137989661/fbfe5c35-1140-4276-8e6a-837349d4c588)

  
  </div>
  </details>

<br/>

### **ê´€ë¦¬ììš© íšŒì› ì£¼ë¬¸ ë‚´ì—­ ê´€ë¦¬ í˜ì´ì§€**
  <details>
  <summary>ê´€ë¦¬ììš© íšŒì› ì£¼ë¬¸ ë‚´ì—­ ê´€ë ¨ í˜ì´ì§€ ì˜ìƒ </summary>
  <div markdown="1">
    
![ê´€ë¦¬ììš© íšŒì› ì£¼ë¬¸ ë‚´ì—­ ê´€ë¦¬](https://github.com/KoreaIt-J-23-2-3/wnm_project_portfolio/assets/137989661/fbd6d0fc-c262-4bef-aafa-6746af695b8b)

  </div>
  </details>
<br/>

### **ê´€ë¦¬ììš© ìƒí’ˆ ê´€ë¦¬ í˜ì´ì§€**
  <details>
  <summary>ê´€ë¦¬ììš© ìƒí’ˆ ê´€ë ¨ í˜ì´ì§€ ì˜ìƒ</summary>
  <div markdown="1">
    
![ê´€ë¦¬ììš© ìƒí’ˆ ê´€ë¦¬ í˜ì´ì§€](https://github.com/KoreaIt-J-23-2-3/wnm_project_portfolio/assets/137989661/2bab739f-90bb-4522-842b-fd09f2878b30)

  
  </div>
  </details>

  <details>
  <summary>ê´€ë¦¬ì ìƒí’ˆ ì¶”ê°€ í˜ì´ì§€ ì½”ë“œ ë¦¬ë·°</summary>
  <div markdown="1">

## ê°ì²´
   
**RequestDto**
```java
@Data
public class AddProductReqDto {
    private String productName;
    private int price;
    private int petTypeId;
    private int productCategoryId;
    private String productDetailText;
    private String productThumbnailUrl;
    private String productDetailUrl;
}
```
   <br>


 ## Front-End
   
**ìš”ì²­ ì½”ë“œ**
```javascript
const petTypes = [
    { value: 1, label: "ê°•ì•„ì§€" },
    { value: 2, label: "ê³ ì–‘ì´" }
]

const productDogCategoeies = [
    { value: 1, label: "í™ˆÂ·ë¦¬ë¹™" },
    { value: 2, label: "ì‚°ì±…" },
    { value: 3, label: "ì´ë™" },
    { value: 4, label: "íŒ¨ì…˜" },
    { value: 5, label: "ì¥ë‚œê°" },
]

const productCatCategoeies = [
    { value: 1, label: "í™ˆÂ·ë¦¬ë¹™" },
    { value: 2, label: "ì‚°ì±…" },
    { value: 3, label: "ì´ë™" },
    { value: 5, label: "ì¥ë‚œê°" },
]

const [ product, setProduct ] = useState({
    productName: "",
    price: 0,
    productDetailText: "",
    productThumbnailUrl: "",
    productDetailUrl: "",
    // defaultê°’ì„ ê° ì˜µì…˜ë“¤ì˜ defalutê°’ì˜ valueë¡œ ë§ì¶°ë†ˆ
    petTypeId: 1,
    productCategoryId: 1
})

const handleProductSubmitClick = async () => {
    try {
        const option = {
            headers: {
                Authorization: !!localStorage.getItem("accessToken")
                ? localStorage.getItem("accessToken") : ""
            }
        }
        await addProductApi(product, option);
        alert("ìƒí’ˆ ë“±ë¡ ì™„ë£Œ")
        window.location.replace("/admin/product/edit")
    } catch (error) {
        console.error(error);
    }    
}   
```
- ì¹´í…Œê³ ë¦¬, ì„¤ëª…, ìƒí’ˆëª…, ì´ë¯¸ì§€Url ë“± í•„ìš”í•œ ì •ë³´ë¥¼ Bodyì— ë‹´ì•„ì„œ ì „ì†¡í•œë‹¤.
- ì‚¬ì´ì¦ˆê°€ ì—¬ëŸ¬ê°œ ì¡´ì¬í•˜ëŠ” ì¹´í…Œê³ ë¦¬ ë“±ë¡ ì‹œ, ìë™ìœ¼ë¡œ ëª¨ë“  ì‚¬ì´ì¦ˆì— ê°™ì€ ê°€ê²©ì´ ì…ë ¥ëœë‹¤. ì´ ê°€ê²©ì€ ìƒí’ˆ ìˆ˜ì • í˜ì´ì§€ì—ì„œ ìˆ˜ì • ê°€ëŠ¥í•˜ë‹¤.

<br>

```javascript
const handleProductThumnailImgChange = (e) => {
    const file = e.target.files[0];
    setProductThumbnailUrlSrc(file);

    if(file === "") {
        setUploadFiles([]);
        setProductThumbnailUrlSrc("");
        return;
    } 

    setUploadFiles([file]);

    reader.onload = (e) => {
        const productThumnailImageUrl = e.target.result;
        setProductThumbnailUrlSrc(productThumnailImageUrl);

        if(!!uploadFiles) {
            const storageRef = ref(storage, `files/product/${file.name}`);

            uploadBytesResumable(storageRef, file)
            .then((uploadTaskSnapshot) => {
                getDownloadURL(storageRef)
                    .then((downloadUrl) => {
                        setProduct({
                            ...product,
                            productThumbnailUrl: downloadUrl,
                        });
                    });
            });
        }
    }
    reader.readAsDataURL(file);
}

const handleProductDetailImgChange = (e) => {
    const file = e.target.files[0];
    setUploadDetailImgFile(file);

    if(file === "") {
        setUploadFiles([]);
        setProductDetailUrlSrc("");
        return;
    } 

    reader.onload = (e) => {
        const productDetaimgUrl = e.target.result;
        setProductDetailUrlSrc(productDetaimgUrl);

        if(!!uploadFiles) {
            const storageRef = ref(storage, `files/product/${file.name}`);

            uploadBytesResumable(storageRef, file)
            .then((uploadTaskSnapshot) => {
                getDownloadURL(storageRef)
                    .then((downloadUrl) => {
                        setProduct({
                            ...product,
                            productDetailUrl: downloadUrl,
                        });
                    });
            });
        }
    };
    reader.readAsDataURL(file);
}
```
- ì´ë¯¸ì§€ Urlì€ ë³€ê²½ ì‹œ firebaseì— ì—…ë¡œë“œ ëœ í›„ ê·¸ ì£¼ì†Œë¥¼ ë°›ì•„ì™€ Bodyê°ì²´ì— ì €ì¥í•œë‹¤.


<br>

**í™”ë©´ ì¶œë ¥ ì½”ë“œ**
```javascript
return (
    <Mypage>
        <div css={S.SContainer}>
            <div css={S.STopTitle}>
                <h2>ìƒí’ˆ ë“±ë¡</h2>
            </div>
            <div css={S.SubContainer}>
                <div>
                    <h1 css={S.SH1}>ìƒí’ˆ ë©”ì¸ ì´ë¯¸ì§€ ë“±ë¡</h1>
                </div>
                <div css={S.SImgBox} >
                    <img src={productThumbnailUrlSrc} alt='ìƒí’ˆ ë©”ì¸ ì´ë¯¸ì§€'/>
                </div>
                <div css={S.SButtonBox}>
                    <input css={S.Sfile} type="file" onChange={handleProductThumnailImgChange} ref={productThumnailImgRef}/>
                    <button onClick={handleProductThumnailImgUploadClick}>ë©”ì¸ ì´ë¯¸ì§€ ìˆ˜ì • íŒŒì¼ ì—…ë¡œë“œ</button>
                </div>
                <div>
                    <h1 css={S.SH1}>ìƒí’ˆ ìƒì„¸ ì´ë¯¸ì§€ ë“±ë¡</h1>
                </div>
                <div css={S.SImgBox}>
                    <img src={productDetailUrlSrc} alt='ìƒí’ˆ ìƒì„¸ ì´ë¯¸ì§€'/>
                </div>
                <div css={S.SButtonBox}>
                    <input css={S.Sfile} type="file" onChange={handleProductDetailImgChange} ref={productDetailImgRef}/>
                    <button onClick={handleProductDetailImgUploadClick}>ìƒí’ˆ ìƒì„¸ ì´ë¯¸ì§€ íŒŒì¼ ì—…ë¡œë“œ</button>
                </div>
                <div>
                    <h1 css={S.SH1}>ìƒí’ˆ ì •ë³´ ë“±ë¡</h1>
                </div>
                <div css={S.SInputBox}>
                    <div css={S.SInfoInput}>
                        <h2>ìƒí’ˆëª…</h2> 
                        <input type="text" 
                            name='productName'
                            placeholder='ìƒí’ˆëª…'
                            onChange={handleInputChange}/>
                    </div>
                    <div css={S.SInfoInput}>
                        <h2>ìƒí’ˆ ì„¤ëª…</h2>
                        <textarea type="text" 
                            name='productDetailText'
                            placeholder='ìƒí’ˆ ì„¤ëª…'
                            onChange={handleInputChange}/>
                    </div>
                    <div css={S.SInfoInput}>
                        <h2>ë™ë¬¼íƒ€ì…</h2> 
                        <select 
                            options={petTypes}
                            onChange={handlePetTypeOptionChange}
                            css={S.SSelect}>
                            {petTypes.map(type => {
                                return <option key={type.value} value={type.value} label={type.label}>{type.label}</option>
                            })}
                        </select>
                    </div>
                    {product.petTypeId === 1 ? 
                        <div css={S.SInfoInput}>
                            <h2>ì¹´í…Œê³ ë¦¬</h2>
                            <select
                                options={productDogCategoeies}
                                onChange={handleCategoryTypeOptionChange}
                                css={S.SSelect}>
                                {productDogCategoeies.map(category => {
                                    return <option key={category.value} value={category.value} label={category.label}>{category.label}</option>
                                })}
                            </select> 
                        </div>
                        :
                        <div css={S.SInfoInput}>
                            <h2>ì¹´í…Œê³ ë¦¬</h2>
                            <select
                                options={productCatCategoeies}
                                onChange={handleCategoryTypeOptionChange}
                                css={S.SSelect}>
                                {productCatCategoeies.map(category => {
                                    return <option key={category.value} value={category.value} label={category.label}>{category.label}</option>
                                })}
                            </select> 
                        </div>
                    }
                    <div css={S.SInfoInput}>
                        <h2>ê°€ê²©</h2>
                        <input type="text" name='price' placeholder='ê°€ê²©' onChange={handleInputChange} />
                        <h4>*ì‚¬ì´ì¦ˆë³„ ê°€ê²© ì„¤ì •ì€ ë“±ë¡ í›„ ìˆ˜ì • í˜ì´ì§€ì—ì„œ ìˆ˜ì •*</h4>
                    </div>
                </div>
                <div>
                    <button onClick={handleProductSubmitClick} css={S.SButton}>ë“±ë¡í•˜ê¸°</button>
                </div>
            </div>
        </div>
    </Mypage>
);
```
- ì´ë¯¸ì§€ëŠ” í™•ì¸ì„ ìœ„í•´ useStateìƒíƒœë¥¼ ì´ìš©í•˜ê³  ìˆê³ , ì—…ë¡œë“œ ë°ì´í„°ê°€ ë³€ê²½ ì‹œ onChangeë¥¼ ì´ìš©í•˜ì—¬ ìš”ì²­ë³´ë‚¼ Body ê°ì²´ ì •ë³´ê°€ ê°±ì‹ ëœë‹¤.

<br>
   


## Back-End
    
**Controller**
```java
@PostMapping("/api/admin/product")
public ResponseEntity<?> addProduct(@RequestBody AddProductReqDto addProductReqDto) {
    return ResponseEntity.ok().body(productService.addProduct(addProductReqDto));
}
```
   <br>

**Service**
```java
@Transactional(rollbackFor = Exception.class)
public boolean addProduct(AddProductReqDto addProductReqDto) {
    try {
        Map<String, Object> map = new HashMap<>();
        ProductMst productMst = addProductReqDto.toEntity();
        productMapper.addProductMaster(productMst);

        map.put("productMstId", productMst.getProductMstId());
        map.put("price", addProductReqDto.getPrice());

        if(addProductReqDto.getProductCategoryId() == 4 && addProductReqDto.getPetTypeId() == 1) {
            map.put("sizeId", 2);
            for(int i = 0; i < 6; i++) {
                productMapper.addProductDetail(map);
                map.replace("sizeId", i + 3);
            }
        }else {
            map.put("sizeId", 1);
            productMapper.addProductDetail(map);
        }
        return true;
    }catch (Exception e) {
        throw new ProductException
                (errorMapper.errorMapper("ìƒí’ˆ ì˜¤ë¥˜", "ìƒí’ˆ ì¶”ê°€ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤."));
    }
}
```
- ìƒí’ˆì˜ ì¹´í…Œê³ ë¦¬ ì¡°ê±´ì— ë§ì¶° ìë™ìœ¼ë¡œ ì‚¬ì´ì¦ˆë¥¼ ì •í•´ì„œ ì—…ë¡œë“œí•˜ëŠ” ì¡°ê±´ë¬¸ì´ ë“¤ì–´ìˆë‹¤.<br>ì‚¬ì´ì¦ˆ ì¢…ë¥˜ê°€ ë³€ê²½ë  ì¼ì´ ì—†ë‹¤ê³  íŒë‹¨ë˜ì–´ ì´ì™€ê°™ì´ ì½”ë“œë¥¼ ì‘ì„±í•˜ì˜€ë‹¤.
- ë³€ê²½ì´ í•„ìš”í•˜ë‹¤ë©´ front-endì—ì„œ Listë¡œ ì‚¬ì´ì¦ˆì™€ ê°€ê²©ì •ë³´ë¥¼ ë°›ì•„ì˜¤ëŠ” ë°©ì‹ìœ¼ë¡œ ìˆ˜ì •ì´ ê°€ëŠ¥í•˜ë‹¤.

<br>

**Repository**
```java
@Options(useGeneratedKeys = true, keyProperty = "productMstId")
public Integer addProductMaster(ProductMst productMst);
public Integer addProductDetail(Map<String, Object> map);
```
- ì •ê·œí™”ëœ í…Œì´ë¸”ì— ëª¨ë‘ ì •ë³´ê°€ ë“¤ì–´ê°€ì•¼í•˜ê¸° ë•Œë¬¸ì— ìƒí’ˆëª…, ì„¤ëª…, ì´ë¯¸ì§€ Urlê³¼ ê°™ì€ í†µí•© ì •ë³´ë¥¼ Master í…Œì´ë¸”ì— insert í›„<br>useGeneratedKeysë¥¼ ì‚¬ìš©í•˜ì—¬ ë°›ì•„ì˜¨ keyë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ì´ì¦ˆì™€ ê°€ê²© ì •ë³´ë¥¼ Detail í…Œì´ë¸”ì— insertí•œë‹¤.

   <br>

**Mybatis Query**
```java
<insert id="addProductMaster" parameterType="com.woofnmeow.wnm_project_back.entity.ProductMst" useGeneratedKeys="true" keyProperty="productMstId">
    insert into
        product_mst_tb
    values(0, #{productName}, #{petTypeId}, #{productCategoryId}, #{productDetailText}, #{productThumbnailUrl}, #{productDetailUrl}, now())
</insert>



<insert id="addProductDetail" parameterType="hashmap">
    insert into
        product_dtl_tb
    values(0, #{productMstId}, #{price}, #{sizeId})
</insert>
```
- useGeneratedKeysë¥¼ ì‚¬ìš©í•˜ì—¬ insertì— ì‚¬ìš©ëœ entityê°ì²´ì— productMstIdê°’ì„ ì €ì¥í•˜ê³  addProductDetailì— ì‚¬ìš©í•œë‹¤.



  </div>
  </details>







  <details>
  <summary>ê´€ë¦¬ì ìƒí’ˆ ê´€ë¦¬ ëª©ë¡ í˜ì´ì§€ ì½”ë“œ ë¦¬ë·°</summary>
  <div markdown="1">

## ê°ì²´
   
**RequestDto**
```java
@AllArgsConstructor
@NoArgsConstructor
@Data
public class SearchMasterProductReqDto {
    private String petTypeName;
    private String productCategoryName;
    private String searchOption;
    private String searchValue;
    private String sortOption;
    private int pageIndex;
}
```
   <br>


**Vo**
```java
@Data
@Builder
public class SearchMasterProductVo {
    private String petTypeName;
    private String productCategoryName;
    private String searchOption;
    private String searchValue;
    private String sortOption;
    private int pageIndex;
    private int limit;
}
```
- limitì— ë™ì ê°’ì„ í• ë‹¹í•˜ê¸° ìœ„í•œ vo

<br>

```java
@Data
public class GetProductVo {
    private int productMstId;
    private String productName;
    private String productDetailText;
    private String productThumbnailUrl;
    private String productDetailUrl;
    private int petTypeId;
    private String petTypeName;
    private int productCategoryId;
    private String productCategoryName;
    private LocalDateTime createDate;
    private String sizeAndPrice;

    public SearchMasterProductRespDto toRespDto(Map<String, Object> map) {
        DateTimeFormatter formatter = DateTimeFormatter.ofPattern("yyyy-MM-dd HH:mm:ss");
        String text = "";
        if(productDetailText != null) {
            text = productDetailText.replaceAll("\n", "<br>");
        }

        String[] sizes = {"no", "XS", "S", "M", "L", "XL", "XXL"};

        for (int i = 0; i < sizes.length; i++) {
            if(map.get(sizes[i]) == null) {
                map.put(sizes[i], "");
            }
        }


        SearchMasterProductRespDto body = SearchMasterProductRespDto.builder()
                .productMstId(productMstId)
                .productName(productName)
                .productDetailText(text)
                .productThumbnailUrl(productThumbnailUrl)
                .productDetailUrl(productDetailUrl)
                .petTypeId(petTypeId)
                .petTypeName(petTypeName)
                .productCategoryId(productCategoryId)
                .productCategoryName(productCategoryName)
                .createDate(createDate.format(formatter))
                .no((String) map.get("no"))
                .XS((String) map.get("XS"))
                .S((String) map.get("S"))
                .M((String) map.get("M"))
                .L((String) map.get("L"))
                .XL((String) map.get("XL"))
                .XXL((String) map.get("XXL"))
                .build();
        return body;
    }
```
- Serviceì—ì„œ ê°€ê³µí•œ ì‚¬ì´ì¦ˆë³„ ê°€ê²©ì„ __ë¬¸ìì—´__ í˜•íƒœë¡œ ì‘ë‹µí•œë‹¤.
- ë¬¸ìì—´ì´ ë¹„ì–´ìˆì„ ì‹œ í•´ë‹¹ ì‚¬ì´ì¦ˆëŠ” ìƒí’ˆì— ì—†ëŠ” ì‚¬ì´ì¦ˆë‹¤.<br> ì´ê²ƒìœ¼ë¡œ front-endì—ì„œ ì‚¬ì´ì¦ˆ ìœ ë¬´ë¥¼ íŒë³„í•œë‹¤.

<br>

**ResponseDto**
```java
@Builder
@Data
public class SearchMasterProductRespDto {
    private int productMstId;
    private String productName;
    private int petTypeId;
    private String petTypeName;
    private int productCategoryId;
    private String productCategoryName;
    private String productDetailText;
    private String productThumbnailUrl;
    private String productDetailUrl;
    private String createDate;
    private String no;
    @JsonProperty("XS")
    private String XS;
    @JsonProperty("S")
    private String S;
    @JsonProperty("M")
    private String M;
    @JsonProperty("L")
    private String L;
    @JsonProperty("XL")
    private String XL;
    @JsonProperty("XXL")
    private String XXL;
}
```
   <br>

   
## Front-End
   
**ìš”ì²­ ì½”ë“œ**
```javascript
const [ searchData, setSearchData ] = useState({
    petTypeName: "all",
    productCategoryName: "all",
    searchOption: 'name',
    searchValue: '',
    sortOption: 'number',
    pageIndex: 1});


const getProducts = useQuery(["getProducts"], async () => {
    const response = await getProductsApi(searchData);
    return response;
},
{
    refetchOnWindowFocus: false,
    retry: 0,
    onSuccess: response => {
        setOldSearchData(searchData)
        setProductList(response?.data)
    }
});


const getProductCount = useQuery(["getProductCount"], async () => {
    try {
        const response = getProductsCountApi(searchData);
        return response;
    } catch (error) {
        alert(error.message)
    }
},{
    refetchOnWindowFocus: false,
    retry: 0,
    onSuccess: response => {
        const respLastPage = getLastPage(response?.data, 10);
        setLastPage(respLastPage)
        const respStartIndex = getStartIndex(currentPage)
        setStartIndex(respStartIndex)
        const respEndIndex = getEndIndex(respStartIndex, respLastPage);
        setEndIndex(respEndIndex)
        const respTotalPageIndex = getTotalPageIndex(respStartIndex, respEndIndex)
        setTotalPageIndex(respTotalPageIndex)
    }
}) 
```
- ê²€ìƒ‰ ì¡°ê±´ì— ì¼ì¹˜í•˜ëŠ” ìƒí’ˆ ì •ë³´ì™€ ìƒí’ˆì˜ ê°¯ìˆ˜ë¥¼ ê°€ì ¸ì˜¤ëŠ” ìš”ì²­<br>í•´ë‹¹ ìš”ì²­ìœ¼ë¡œ ì‘ë‹µë°›ì€ ê°ì²´ì—ëŠ” ëª¨ë“  ì‚¬ì´ì¦ˆì— ëŒ€í•œ ê°€ê²© ì •ë³´ê°€ ë“¤ì–´ìˆë‹¤.

<br>

**í™”ë©´ ì¶œë ¥ ì½”ë“œ**
```javascript
return (
    <Mypage>
        <div css={S.SContainer}>
            <div css={S.STopTitle}>
                <h2>ìƒí’ˆ ê´€ë¦¬</h2>
            </div>
            <div css={S.SSelectBox}>
                <button onClick={() => { navigate("/admin/incoming")}}>ì…ê³  ê´€ë¦¬</button>
                <button onClick={() => { navigate("/admin/outgoing")}}>ì¶œê³  ê´€ë¦¬</button>
                <select option={petType} onChange={handleSearchSelectChange} name='petTypeName'>
                    {petType?.map(pt => {
                        return <option key={pt.value} label={pt.label} value={pt.value} />
                    })}
                </select>
                <select option={category} onChange={handleSearchSelectChange} name='productCategoryName'>
                    {category?.map(ct => {
                        return <option key={ct.value} label={ct.label} value={ct.value}/>
                    })}
                </select>
                <select option={sortOption} onChange={handleSearchSelectChange} name='sortOption'>
                    {sortOption?.map(so => {
                        return <option key={so.value}  label={so.label} value={so.value}/>
                    })}
                </select>
                <select option={searchOption} onChange={handleSearchSelectChange} name='searchOption'>
                    {searchOption?.map(op => {
                        return <option key={op.value} label={op.label} value={op.value}/>
                    })}
                </select>

                <input type='text' value={searchInput} onKeyDown={handleOnKeyPress} onChange={handleSearchInputChange}/>
                <button onClick={handleSearchClick}>ê²€ìƒ‰</button>
            </div>
            <div css={S.STableBox}>
                <table css={S.STable}>
                    <thead>
                        <tr css={S.SThBox}>
                            <th>ìƒí’ˆ ë²ˆí˜¸</th>
                            <th>ìƒí’ˆ ì´ë¯¸ì§€</th>
                            <th>ìƒí’ˆ ëª…</th>
                            <th>ë™ë¬¼ ì¢…ë¥˜</th>
                            <th>ì¹´í…Œê³ ë¦¬</th>
                            <th>ìƒí’ˆ ì¡°íšŒ</th>
                            <th>ìˆ˜ì •</th>
                            <th>ì‚­ì œ</th>
                        </tr>
                    </thead>
                    <tbody>
                        {productList?.map(product => {
                            return <tr key={product.productMstId} css={S.STdBox}>
                                <td>{product.productMstId}</td>
                                <td>
                                    <img css={S.SImg} src={product.productThumbnailUrl} alt="" />
                                </td>
                                <td>{product.productName}</td>
                                <td>{product.petTypeName}</td>
                                <td>{product.productCategoryName}</td>
                                <td>
                                    <button css={S.SSelectButton} onClick={()=>handleNavigateJoinProductDetailPageClick(product.productMstId)}>ìƒì„¸ ì¡°íšŒ</button>
                                </td>
                                <td>
                                    <button css={S.SEditButton} onClick={()=>handleEditProductClick(product.productMstId)}>ìˆ˜ì •</button>
                                </td>
                                <td >
                                    <button css={S.SDeleteButton} onClick={()=>handleRemoveProductClick(product.productMstId)}>ì‚­ì œ</button>  
                                </td>
                            </tr>
                        })}
                    </tbody>
                </table>
            </div>
            <div css={S.SPageButtonBox}>
                <button
                    onClick={() => handlePageClick(searchData.pageIndex - 1)}
                    disabled={currentPage === 1}
                    >
                        {"<"}
                </button>

                {totalPageIndex.map((page, index) => (
                    <button 
                        css={currentPage === page ? S.selectedPageButton : S.PageButton}
                        name="totalPageIndex"
                        onClick={() => handlePageClick(page)}
                        key={index}>
                        {page}
                    </button>
                ))}

                <button
                    onClick={() => handlePageClick(searchData.pageIndex + 1)}
                    disabled={currentPage === lastPage}
                    >
                        {">"}
                </button>
            </div>
        </div>
    </Mypage>
);
```
- ëª©ë¡ì—ì„œ í™•ì¸ í•´ì•¼í•˜ëŠ” ê¸°ë³¸ì ì¸ ì •ë³´ë“¤ê³¼ ì…/ì¶œê³ , ìƒì„¸ì •ë³´ í™•ì¸ í˜ì´ì§€, ìˆ˜ì • í˜ì´ì§€ë¡œ ì´ë™í•˜ëŠ” ë²„íŠ¼ê³¼ ì‚­ì œ ìš”ì²­ì„ ë³´ë‚´ëŠ” ë²„íŠ¼ì´ êµ¬í˜„ë˜ì–´ìˆë‹¤.

<br>

**ê¸°íƒ€**
```javascript
const petType = [
    { value: "all", label: "ì „ë¶€"},
    { value: "dog", label: "ê°•ì•„ì§€"},
    { value: "cat", label: "ê³ ì–‘ì´"}
]
const category = [
    { value: "all", label: "ì „ë¶€" },
    { value: "home-living", label: "í™ˆÂ·ë¦¬ë¹™" },
    { value: "walk", label: "ì‚°ì±…" },
    { value: "movement", label: "ì´ë™" },
    { value: "fashion", label: "íŒ¨ì…˜" },
    { value: "toy", label: "ì¥ë‚œê°" }
]

const searchOption = [
    { value: "name", label: "ì œëª©"},
    { value: "number", label: "ë§ˆìŠ¤í„°ì•„ì´ë””"}
]

const sortOption = [
    { value: "name", label: "ìƒí’ˆëª…"},
    { value: "number", label: "ìƒí’ˆë²ˆí˜¸"},
]

useEffect(() => {
    if(principal?.data?.data.roleName !== "ROLE_ADMIN" || !principal?.data) {
        alert("ì •ìƒì ì¸ ì ‘ê·¼ì´ ì•„ë‹™ë‹ˆë‹¤.")
        navigate("/")
    }
}, [])
```
- ê²€ìƒ‰ ì˜µì…˜ë“¤ê³¼ Adminì´ ì•„ë‹ ì‹œ ì ‘ê·¼ì„ ì°¨ë‹¨í•˜ëŠ” ì½”ë“œ

<br>

```javascript
const handleRemoveProductClick = async (productMstId) => {
    try {
        const option = {
            headers: {
                Authorization: localStorage.getItem("accessToken")
            }
        }
        if(window.confirm("ì •ë§ë¡œ í•´ë‹¹ ìƒí’ˆì„ ì‚­ì œ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
            await removeProductApi(productMstId, option)
            alert("ìƒí’ˆì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.")
            getProducts.refetch();
        } else {
            alert("ì·¨ì†Œ ë˜ì—ˆìŠµë‹ˆë‹¤.")
        }
    } catch (error) {
        console.log(error)
    }
}
```
- ìƒí’ˆ ì‚­ì œë¥¼ í´ë¦­ ì‹œ í•´ë‹¹ ìƒí’ˆì˜ Idë¡œ ì‚­ì œ ìš”ì²­ ì „ì†¡ í›„ useQueryë¥¼ ê°±ì‹ ì‹œí‚¤ëŠ” ì½”ë“œ

  <br>

   
## Back-End

**Controller**
```java
@GetMapping("api/products/sizes")
public ResponseEntity<?> searchProductsWithAllSizes(SearchMasterProductReqDto searchMasterProductReqDto) {
    return ResponseEntity.ok().body(productService.searchProductsWithAllSizes(searchMasterProductReqDto));
}

@GetMapping("api/products/count")
public ResponseEntity<?> getCountOfSearchedProducts(SearchMasterProductReqDto searchMasterProductReqDto) {
    System.out.println(searchMasterProductReqDto);
    return ResponseEntity.ok().body(productService.getCountOfSearchedProducts(searchMasterProductReqDto));
}

@DeleteMapping("/api/admin/product/{productMstId}")
public ResponseEntity<?> removeProduct(@PathVariable int productMstId) {
    return ResponseEntity.ok().body(productService.removeProduct(productMstId));
}
```

   <br>

**Service**
```java
public List<SearchMasterProductRespDto> searchProductsWithAllSizes(SearchMasterProductReqDto searchMasterProductReqDto) {
    try {
        List<GetProductVo> getProductVo = productMapper.searchProductsWithAllSizes(searchMasterProductReqDto.toVo());
        Map<String, Object> map = new HashMap<>();
        List<SearchMasterProductRespDto> reqList= new ArrayList<>();
        getProductVo.forEach(vo -> {
            String allSizeAndPrice = vo.getSizeAndPrice();
            String[] sizeAndPrice = allSizeAndPrice.split(", ");
            for (int i = 0; i < sizeAndPrice.length; i++) {
                String[] sizes = sizeAndPrice[i].split("/ ", 0);
                String[] prices = sizeAndPrice[i].split("/ ", 1);
                String size = sizes[0].substring(1);
                String price = prices[0].substring(prices[0].indexOf("/ ") + 2).replace(")", "");
                map.put(size, price.toString());
            }
            reqList.add(vo.toRespDto(map));
        });
        return reqList;
    }catch (Exception e) {
        throw new ProductException
                (errorMapper.errorMapper("ìƒí’ˆ ì˜¤ë¥˜", "ìƒí’ˆ ê²€ìƒ‰ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤."));
    }
}


public int getCountOfSearchedProducts(SearchMasterProductReqDto searchMasterProductReqDto) {
    try {
        return productMapper.selectCountOfSearchedProducts(searchMasterProductReqDto.toSearchProduct());
    }catch (Exception e) {
        throw new ProductException
                (errorMapper.errorMapper("ìƒí’ˆ ì˜¤ë¥˜", "ìƒí’ˆ ë¦¬ìŠ¤íŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤."));
    }
}


@Transactional(rollbackFor = Exception.class)
public boolean removeProduct(int productMstId) {
    try {
        return productMapper.deleteProduct(productMstId) > 0;
    }catch (Exception e) {
        throw new ProductException
                (errorMapper.errorMapper("ìƒí’ˆ ì˜¤ë¥˜", "ìƒí’ˆ ì‚­ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤."));
    }
}
```
- ìœ„ì—ì„œë¶€í„° ìƒí’ˆ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê¸°ëŠ¥, ìƒí’ˆì˜ ê°¯ìˆ˜ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê¸°ëŠ¥, ìƒí’ˆì„ ì‚­ì œí•˜ëŠ” ê¸°ëŠ¥ì´ë‹¤.
- ìƒí’ˆ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ë©´ì„œ ë¬¸ìì—´ë¡œ ë‚˜ëˆ ì§„ ë°ì´í„° í˜•íƒœë¥¼ substringì„ í™œìš©í•˜ì—¬ key, value í˜•íƒœë¡œ ë¶„ë¥˜í•˜ì—¬ ì‘ë‹µí•œë‹¤.

   <br>

**Repository**
```java
public List<GetProductVo> searchProductsWithAllSizes(SearchMasterProductVo searchMasterProductVo);
public Integer selectCountOfSearchedProducts(SearchMasterProductVo searchMasterProductVo);
public Integer deleteProduct(int productMstId);
```
   <br>

**Mybatis Query**
```java
<select id="searchProductsWithAllSizes" resultMap="productsWithAllSizesMap">
    select
        pmt.product_mst_id,
        pmt.product_name,
        ptt.pet_type_id,
        ptt.pet_type_name,
        pct.product_category_id,
        pct.product_category_name,
        pmt.product_thumbnail_url,
        pmt.product_detail_text,
        pmt.product_detail_url,
        pmt.create_date,
        GROUP_CONCAT(CONCAT('(', st.size_name, '/ ', pdt.price, ')') SEPARATOR ', ') AS sizes_and_prices
    from
        product_mst_tb pmt
        left outer join product_dtl_tb pdt on(pdt.product_mst_id = pmt.product_mst_id)
        left outer join size_tb st on(st.size_id = pdt.size_id)
        left outer join pet_type_tb ptt on(ptt.pet_type_id = pmt.pet_type_id)
        left outer join product_category_tb pct on(pct.product_category_id = pmt.product_category_id)
    where
        1 = 1
    <choose>
        <when test="searchOption.equals('number')">
            <if test="!searchValue.equals('')">
                and pmt.product_mst_id = #{searchValue}
            </if>
        </when>
        <when test="searchOption.equals('name')">
            and pmt.product_name like concat("%", #{searchValue}, "%")
        </when>
        <otherwise>
            and (pmt.product_name like concat("%", #{searchValue}, "%")
            or pct.product_category_name like concat("%", #{searchValue}, "%")
            or ptt.pet_type_name like concat("%", #{searchValue}, "%"))
        </otherwise>
    </choose>
    <if test="!petTypeName.equals('all')">
        and ptt.pet_type_name_eng = #{petTypeName}
    </if>
    <if test="!productCategoryName.equals('all')">
        and pct.product_category_name_eng = #{productCategoryName}
    </if>
    group by
        pmt.product_mst_id
    order by
    <choose>
        <when test="sortOption.equals('name')">
            pmt.product_name COLLATE utf8mb4_unicode_ci
        </when>
        <when test="sortOption.equals('number')">
            pmt.product_mst_id desc
        </when>
        <otherwise>
            pmt.product_mst_id desc
        </otherwise>
    </choose>
    limit
    #{pageIndex}, #{limit}
</select>


<select id="selectCountOfSearchedProducts" parameterType="com.woofnmeow.wnm_project_back.vo.SearchMasterProductVo" resultType="java.lang.Integer">
    select
        count(*)
    from
        product_mst_tb pmt
        left outer join pet_type_tb ptt on(ptt.pet_type_id = pmt.pet_type_id)
        left outer join product_category_tb pct on(pct.product_category_id = pmt.product_category_id)
    where
        1 = 1
    <choose>
        <when test="searchOption.equals('number')">
            <if test="!searchValue.equals('')">
                and pmt.product_mst_id = #{searchValue}
            </if>
        </when>
        <when test="searchOption.equals('name')">
            and pmt.product_name like concat("%", #{searchValue}, "%")
        </when>
        <otherwise>
            and (pmt.product_name like concat("%", #{searchValue}, "%")
            or pct.product_category_name like concat("%", #{searchValue}, "%")
            or ptt.pet_type_name like concat("%", #{searchValue}, "%"))
        </otherwise>
    </choose>
    <if test="!petTypeName.equals('all')">
        and ptt.pet_type_name_eng = #{petTypeName}
    </if>
    <if test="!productCategoryName.equals('all')">
        and pct.product_category_name_eng = #{productCategoryName}
    </if>
</select>


<delete id="deleteProduct">
    delete
    from
    product_mst_tb
    where
    product_mst_id = #{productMstId}
</delete>
```
- ë‹¤ìˆ˜ì˜ ì‚¬ì´ì¦ˆë¥¼ í•˜ë‚˜ì˜ ê°ì²´ì— ë‹´ì•„ì˜¤ê¸° ìœ„í•´ GROUP_CONCATì„ ì‚¬ìš©í•˜ì—¬ "(key/ value), (key/ value)"í˜•íƒœì˜ ë¬¸ìì—´ë¡œ select í•˜ì˜€ë‹¤. <br>í•´ë‹¹ ë¬¸ìì—´ì€ Serviceì—ì„œ ê°€ê³µí•˜ì—¬ ì¼ë°˜ì ì¸ Bodyí˜•íƒœë¡œ ë³€í™˜í•˜ì—¬ ì‘ë‹µí•œë‹¤.


  </div>
  </details>






  <details>
  <summary>ê´€ë¦¬ì ìƒí’ˆ ìˆ˜ì • í˜ì´ì§€ ì½”ë“œ ë¦¬ë·°</summary>
  <div markdown="1">

  ## ê°ì²´

   ### ì •ë³´ë¥¼ ë°›ì•„ì˜¤ëŠ” ê°ì²´ëŠ” ê´€ë¦¬ì ìƒí’ˆ ê´€ë¦¬ ëª©ë¡ í˜ì´ì§€ì™€ ë™ì¼í•˜ê²Œ ì‚¬ìš©í•œë‹¤.

<br>
   
**RequsetDto**
```java
@Data
@AllArgsConstructor
@NoArgsConstructor
public class EditProductReqDto {
    private String productName;
    private String productDetailText;
    private String productThumbnailUrl;
    private String productDetailUrl;

    // ì‚¬ì´ì¦ˆë³„ ê°€ê²©
    @JsonProperty("no")
    private String no;
    @JsonProperty("XS")
    private String XS;
    @JsonProperty("S")
    private String S;
    @JsonProperty("M")
    private String M;
    @JsonProperty("L")
    private String L;
    @JsonProperty("XL")
    private String XL;
    @JsonProperty("XXL")
    private String XXL;
}
```


   <br>

## Front-End
   
**ìš”ì²­ ì½”ë“œ**
```javascript
const productMstId = params.productMstId

const searchData = {
    petTypeName: "all",
    productCategoryName: "all",
    searchOption: 'number',
    searchValue: parseInt(productMstId),
    sortOption: 'number',
    pageIndex: 1}

const getProduct = useQuery(["getProduct"], async () => {
    const response = await getProductsApi(searchData);
    return response;
},
{
    refetchOnWindowFocus: false,
    retry: 0,
    onSuccess: response => {
        setProductThumbnailSrc(response?.data[0]?.productThumbnailUrl)
        setProductDetailImgSrc(response?.data[0]?.productDetailUrl);
        setProductData({
            productName: response?.data[0].productName,
            productDetailText: response?.data[0].productDetailText,
            productThumbnailUrl: response?.data[0].productThumbnailUrl,
            productDetailUrl: response?.data[0].productDetailUrl,
            no: response?.data[0].no,
            XS: response?.data[0].XS,
            S: response?.data[0].S,
            M: response?.data[0].M,
            L: response?.data[0].L,
            XL: response?.data[0].XL,
            XXL: response?.data[0].XXL,
        })

        for(let j = 0; j < response?.data.length; j++) {
            const numbers = [parseInt(response?.data[j].no), parseInt(response?.data[j].XS), parseInt(response?.data[j].S), parseInt(response?.data[j].M), parseInt(response?.data[j].L), parseInt(response?.data[j].XL), parseInt(response?.data[j].XXL)]
            const nums = [];
    
            for(let i = 0; i < numbers.length; i++) {
                if(isNaN(numbers[i])) {
                    numbers[i] = 0;
                }
                if(numbers[i] !== 0) {
                    nums.push(parseInt(numbers[i]))
                }
            }
            let lastNum = nums[0]
            for(let i = 0; i < nums.length; i++) {
                if(lastNum > nums[i]) {
                    lastNum = nums[i]
                }
            }
            productMinimumData.push({
                productName: response?.data[j].productName,
                productDetailText: response?.data[j].productDetailText,
                productThumbnailUrl: response?.data[j].productThumbnailUrl,
                productDetailUrl: response?.data[j].productDetailUrl,
                no: response?.data[j].no,
                XS: response?.data[j].XS,
                S: response?.data[j].S,
                M: response?.data[j].M,
                L: response?.data[j].L,
                XL: response?.data[j].XL,
                XXL: response?.data[j].XXL,
            })

        }
}
})
```
- paramsì—ì„œ keyë¥¼ ë°›ì•„ ìƒí’ˆ ëª©ë¡ ì •ë³´ë¥¼ ë°›ì•„ì˜¤ëŠ” ê²€ìƒ‰ ê°ì±„ë¥¼ ì¬í™œìš©í•˜ì—¬ ìš”ì²­ì„ ë³´ë‚¸ë‹¤.<br> ê²€ìƒ‰ ê°ì²´ë¥¼ ë³´ë‚´ì§€ë§Œ í•´ë‹¹ í˜ì´ì§€ì— ê²€ìƒ‰ ê¸°ëŠ¥ì€ ì—†ìœ¼ë¯€ë¡œ í˜ì´ì§€ ìµœì´ˆ ë¡œë”© ì‹œ í•œë²ˆë§Œ ìš”ì²­ì´ ì¼ì–´ë‚œë‹¤.

<br>

**í™”ë©´ ì¶œë ¥ ì½”ë“œ**
```javascript
return (
    <Mypage>
        <div css={S.SContainer}>
            <div css={S.STopTitle}>
                <h2>ìƒí’ˆ ì •ë³´ ìˆ˜ì •</h2>
            </div>
                <div css={S.SubContainer}>
                    <div>
                        <h1 css={S.SH1}>ìƒí’ˆ ë©”ì¸ ì´ë¯¸ì§€ ìˆ˜ì •</h1>
                    </div>
                    <div css={S.SImgBox}> 
                        <img src={productThumbnailSrc} alt='ìƒí’ˆ ë©”ì¸ ì´ë¯¸ì§€' onChange={handleProductDataOnChange}/>
                    </div>
                    <div css={S.SButtonBox}>

                        <input type="file" css={S.SFile} ref={productThumnailImgRef} onChange={handleThumbnailChange}/>
                        <button onClick={handleProductThumnailImgUploadClick}>ë©”ì¸ ì´ë¯¸ì§€ ìˆ˜ì • íŒŒì¼ ì—…ë¡œë“œ</button>
                    </div>
                    <div>
                        <h1 css={S.SH1}>ìƒí’ˆ ìƒì„¸ ì´ë¯¸ì§€ ìˆ˜ì •</h1>
                    </div>
                    <div css={S.SImgBox}>
                        <img src={productDetailImgSrc} alt='ìƒí’ˆ ìƒì„¸ ì´ë¯¸ì§€' width={'700px'} onChange={handleProductDataOnChange}/>
                    </div>
                    <div css={S.SButtonBox}>

                        <input type="file" css={S.SFile} onChange={handleDetailImgChange} ref={productDetailImgRef}/>
                        <button onClick={handleProductDetailImgUploadClick}>ìƒì„¸ ì´ë¯¸ì§€ ìˆ˜ì • íŒŒì¼ ì—…ë¡œë“œ</button>
                    </div>
                    <div>
                        <h1 css={S.SH1}>ìƒí’ˆ ì •ë³´ ìˆ˜ì •</h1>
                    </div>

                    <div css={S.SInformation}>
                        <div css={S.SInfoNameInput}>
                            <h2>ìƒí’ˆëª…</h2>
                            <input type="text" 
                                name='productName' 
                                value={productData.productName} 
                                onChange={handleProductDataOnChange}/>
                        </div>
                        <div css={S.SInfoTextInput}>
                            <h2>ìƒí’ˆ ì„¤ëª…</h2>
                            <textarea type="text" 
                                name='productDetailText' 
                                value={productData.productDetailText} 
                                onChange={handleProductDataOnChange}/>
                        </div>
                        <div css={S.SInfoSizeInput}>
                            <h2>ì‚¬ì´ì¦ˆë³„ ê°€ê²©</h2> 
                            <ul>
                            {productData.no === "" ?
                                <>
                                    <li>
                                        <label>XS</label>
                                        <input value={productData.XS} 
                                                type='text' 
                                                name='XS' 
                                                onChange={handleProductDataOnChange}/>
                                    </li>
                                    <li>
                                        <label>S</label>
                                        <input value={productData.S} 
                                                type='text' 
                                                name='S' 
                                                onChange={handleProductDataOnChange}/>
                                    </li>
                                    <li>
                                        <label>M</label>
                                        <input value={productData.M} 
                                                type='text' 
                                                name='M' 
                                                onChange={handleProductDataOnChange}/>
                                    </li>
                                    <li>
                                        <label>L</label>
                                        <input value={productData.L} 
                                                type='text' 
                                                name='L' 
                                                onChange={handleProductDataOnChange}/>
                                    </li>
                                    <li>
                                        <label>XL</label>
                                        <input value={productData.XL} 
                                                type='text' 
                                                name='XL' 
                                                onChange={handleProductDataOnChange}/>
                                    </li>
                                    <li>
                                        <label>XXL</label>
                                        <input value={productData.XXL} 
                                                type='text' 
                                                name='XXL' 
                                                onChange={handleProductDataOnChange}/>
                                    </li>
                                </> :
                                <>
                                    <li>
                                        <label>NO SIZE</label>
                                        <input value={productData.no} 
                                                type='text' 
                                                name='no' 
                                                onChange={handleProductDataOnChange}/>
                                    </li>
                                </>}
                            </ul>
                        </div>
                    </div>
                <div >
                    <button css={S.SSubmit}onClick={handleUpdateSubmit} >ë“±ë¡í•˜ê¸°</button>
                </div>
            </div>
        </div>
    </Mypage>
);
```
- ì‚¬ì´ì¦ˆê°€ ì—†ëŠ” ì œí’ˆê³¼ ì‚¬ì´ì¦ˆë³„ë¡œ ê°€ê²©ì´ ë‚˜ë‰˜ëŠ” ì œí’ˆì„ êµ¬ë¶„í•˜ì—¬ ê°€ê²© ì •ë³´ë¥¼ ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” Inputì°½ì„ ë‹¤ë¥´ê²Œ í‘œì‹œí•´ì£¼ë„ë¡ ì½”ë“œë¥¼ ì‘ì„±í•˜ì˜€ë‹¤.
- ê° ì •ë³´ë¥¼ ìˆ˜ì • ì‹œ onChangeë¥¼ í†µí•´ ìš”ì²­ë°ì´í„°ì˜ ìµœì‹ í™”ê°€ ì´ë¤„ì§€ë„ë¡ ì½”ë“œë¥¼ ì‘ì„±í•˜ì˜€ë‹¤.

<br>

**ê¸°íƒ€**
```javascript
useEffect(() => {
    if(principal?.data?.data.roleName !== "ROLE_ADMIN" || !principal?.data) {
        alert("ì •ìƒì ì¸ ì ‘ê·¼ì´ ì•„ë‹™ë‹ˆë‹¤.")
        navigate("/")
    }
}, [])

const handleUpdateSubmit = async () => {
    try {
        if(!!productThumbnailFile) {
            const thumbnailStorageRef = ref(storage, `files/product/${productThumbnailFile?.name}`);
            await uploadBytesResumable(thumbnailStorageRef, productThumbnailFile);
            const downLoadURL = await getDownloadURL(thumbnailStorageRef);
            productData.productThumbnailUrl = downLoadURL;
        }

        if(!!productDetailImgFile) {
            const detailImgStorageRef = ref(storage, `files/product/${productDetailImgFile?.name}`);
            await uploadBytesResumable(detailImgStorageRef, productDetailImgFile);
            const downLoadURL = await getDownloadURL(detailImgStorageRef);
            productData.productDetailUrl = downLoadURL
        }

        await updateProductApi(productMstId, productData, option);
        alert("ìˆ˜ì •ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.")
        window.location.replace("/admin/product/edit")
    }catch(error) {
        console.log(error.response.data)
    }
}
```
- ê´€ë¦¬ìê°€ ì•„ë‹ˆë¼ë©´ ì ‘ê·¼ì„ ì°¨ë‹¨í•˜ëŠ” ì½”ë“œ
- ìˆ˜ì • ë²„íŠ¼ì„ í´ë¦­ ì‹œ, firebaseì— ì—…ë¡œë“œ í›„ í•´ë‹¹ Urlì„ ë°›ì•„ì„œ ìš”ì²­ ê°ì²´ì— ë‹´ëŠ”ë‹¤. ê·¸ í›„ Back-endë¡œ ìš”ì²­ì„ ì „ì†¡í•œë‹¤.

<br>
   
## Back-End

**Controller**
```java
@PutMapping("/api/admin/product/{productMstId}")
public ResponseEntity<?> editProduct(@PathVariable int productMstId, @RequestBody EditProductReqDto editProductReqDto) {
    return ResponseEntity.ok().body(productService.editProduct(productMstId, editProductReqDto));
}
```

   <br>

**Service**
```java
@Transactional(rollbackFor = Exception.class)
public boolean editProduct(int productMstId, EditProductReqDto editProductReqDto) {
    try {
        Map<String, Object> mstReqMap = new HashMap<>();
        mstReqMap.put("productMstId", productMstId);
        mstReqMap.put("productName", editProductReqDto.getProductName());
        mstReqMap.put("productDetailText", editProductReqDto.getProductDetailText());
        mstReqMap.put("productThumbnailUrl", editProductReqDto.getProductThumbnailUrl());
        mstReqMap.put("productDetailUrl", editProductReqDto.getProductDetailUrl());
        productMapper.updateProductMst(mstReqMap);


        if(editProductReqDto.getNo().equals("")) {
            Map<String, Integer> dtlReqMap = new HashMap<>();
            dtlReqMap.put("2", Integer.parseInt(editProductReqDto.getXS()));
            dtlReqMap.put("3", Integer.parseInt(editProductReqDto.getS()));
            dtlReqMap.put("4", Integer.parseInt(editProductReqDto.getM()));
            dtlReqMap.put("5", Integer.parseInt(editProductReqDto.getL()));
            dtlReqMap.put("6", Integer.parseInt(editProductReqDto.getXL()));
            dtlReqMap.put("7", Integer.parseInt(editProductReqDto.getXXL()));

            for (Map.Entry<String, Integer> entry : dtlReqMap.entrySet()) {
                int sizeId = Integer.parseInt((String) entry.getKey());
                Integer price = entry.getValue();
                productMapper.updateProductDtl(productMstId, sizeId, price);
            }
        }else {
            productMapper.updateProductDtl(productMstId, 1, Integer.parseInt(editProductReqDto.getNo()));
        }
        return true;
    }catch (Exception e) {
        throw new ProductException
                (errorMapper.errorMapper("ìƒí’ˆ ì˜¤ë¥˜", "ìƒí’ˆ ì •ë³´ ìˆ˜ì • ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤."));
    }
}
```
- ìš”ì²­ Bodyì— ë¹„ì–´ìˆëŠ” ê°ì²´ë¥¼ í™•ì¸í•˜ì—¬ ì‚¬ì´ì¦ˆê°€ ìˆëŠ” ìƒí’ˆì¸ì§€ ì—†ëŠ” ìƒí’ˆì¸ì§€ êµ¬ë¶„í•˜ì—¬ ë°ì´í„°ë¥¼ ì—…ë°ì´íŠ¸í•œë‹¤.
- ì‚¬ì´ì¦ˆ Idë¥¼ ì§ì ‘ keyì— ì…ë ¥í•´ì¤˜ì•„í–ëŠ” í•œê³„ê°€ ìˆì–´ ìˆ˜ì •ì´ í•„ìš”í•´ë³´ì¸ë‹¤.

   <br>

**Repository**
```java
public Integer updateProductMst(Map<String, Object> map);
public Integer updateProductDtl(int productMstId, int sizeId, int price);
```

   <br>

**Mybatis Query**
```java
<update id="updateProductMst" parameterType="hashmap">
    update
        product_mst_tb
    set
        product_name = #{productName},
        product_detail_text = #{productDetailText},
        product_thumbnail_url = #{productThumbnailUrl},
        product_detail_url = #{productDetailUrl}
    where
        product_mst_id = #{productMstId}
</update>



<update id="updateProductDtl" parameterType="hashmap">
    update
        product_dtl_tb
    set
        price = #{price}
    where
        product_mst_id = #{productMstId}
        and size_id = #{sizeId}
</update>
```

  </div>
  </details>







  <details>
  <summary>ê´€ë¦¬ì ìƒí’ˆ ìƒì„¸ ì •ë³´ ì¡°íšŒ í˜ì´ì§€ ì½”ë“œ ë¦¬ë·°</summary>
  <div markdown="1">

## ê°ì²´
   
**ResponseDto**
```java
@Data
@Builder
@AllArgsConstructor
@NoArgsConstructor
public class ProductMst {
    private int productMstId;
    private String productName;
    private int petTypeId;
    private int productCategoryId;
    private String productDetailText;
    private String productThumbnailUrl;
    private String productDetailUrl;
    private LocalDateTime createDate;

    private PetType petType;
    private Category category;
    private List<ProductDtl> productDtlList;
}

@Data
public class PetType {
    private int petTypeId;
    private String petTypeName;
}

@Data
public class Category {
    private int productCategoryId;
    private String productCategoryName;
}


@Data
@NoArgsConstructor
@AllArgsConstructor
@Builder
public class ProductDtl {
    private int productDtlId;
    private int productMstId;
    private int price;
    private int sizeId;
    private int actualStock;
    private int tempStock;

    private Size size;
    private ProductMst productMst; // ë¹ˆ ë°ì´í„°ë¡œ ì „ì†¡ëœë‹¤.
}

@NoArgsConstructor
@AllArgsConstructor
@Builder
@Data
public class Size {
    private int sizeId;
    private String sizeName;
}
```

   <br>
   
## Front-End
   
**ìš”ì²­ ì½”ë“œ**
```javascript
const param = useParams()
const productMstId = parseInt(param.productMstId)

const getProduct = useQuery(["getProduct"], () => {
    return getProductMstApi(productMstId);
},{
    refetchOnWindowFocus: false,
    retry: 0
})
```
- paramsì— ìˆëŠ” Idë¥¼ ì‚¬ìš©í•˜ì—¬ ìš”ì²­ì„ ì „ì†¡í•œë‹¤.

<br>

**í™”ë©´ ì¶œë ¥ ì½”ë“œ**
```javascript
return (
    <Mypage>
        <div css={S.SContainer}>
            <div css={S.STopTitle}>
                <h2>ìƒí’ˆ ìƒì„¸ ì •ë³´</h2>
            </div>
            <div css={S.SSubTitleBox}>
                <h3>ìƒí’ˆ ì •ë³´</h3>
                <button onClick={handleReturnToEditPageClick}>ì „ì²´ ìƒí’ˆ ë¦¬ìŠ¤íŠ¸</button>
            </div>
            <div css={S.STableBox}>
                <table css={S.SToptable}>
                    <tbody>
                    <tr css={S.SThtdBox}>
                        <th>ìƒí’ˆ ì¶”ê°€ ì¼ì</th>
                        <td>{getProduct?.data?.data.createDate}</td>
                    </tr>
                    <tr css={S.SThtdBox}>
                        <th>ìƒí’ˆ ì´ë¦„</th>
                        <td>{getProduct?.data?.data.productName}</td>
                    </tr>
                    <tr css={S.SThtdBox}>
                        <th>ìƒí’ˆ ì„¤ëª…</th>
                        <td>{getProduct?.data?.data.productDetailText}</td>
                    </tr>
                    <tr css={S.SThtdBox}>
                        <th>ë™ë¬¼ ì¢…ë¥˜ ì´ë¦„[ID]</th>
                        <td>{getProduct?.data?.data.petTypeName}[{getProduct?.data?.data.petTypeId}]</td>
                    </tr>
                    <tr css={S.SThtdBox}>
                        <th>ì¹´í…Œê³ ë¦¬ ì´ë¦„[ID]</th>
                        <td>{getProduct?.data?.data.productCategoryName}[{getProduct?.data?.data.productCategoryId}]</td>
                    </tr>
                    <tr css={S.SThtdBox}>
                        <th>ìƒí’ˆ ë§ˆìŠ¤í„° ID</th>
                        <td>{productMstId}</td>
                    </tr>
                    </tbody>
                </table>
            </div>

            <div css={S.SSubTitleBox}>
                <h3>ìƒí’ˆ ì‚¬ì´ì¦ˆë³„ ì •ë³´</h3>
            </div>
            <div css={S.STableBox}>
                {getProduct?.data?.data.productDtlList?.map(dtl => {
                return <table key={dtl.productDtlId} css={S.SBottomTable}>
                    <tbody>
                        <tr css={S.SThtdBox}>
                            <th>ìƒí’ˆ ìƒì„¸(ì‚¬ì´ì¦ˆë³„) ID</th>
                            <td>{dtl.productDtlId}</td>
                        </tr>
                        <tr css={S.SThtdBox}>
                            <th>ê°€ê²©</th>
                            <td>{dtl.price}</td>
                        </tr>
                        <tr css={S.SThtdBox}>
                            <th>ì‚¬ì´ì¦ˆ[ì‚¬ì´ì¦ˆID]</th>
                            <td>{dtl.size.sizeName}[{dtl.sizeId}]</td>
                        </tr>
                        <tr css={S.SThtdBox}>
                            <th>ì‹¤ì œ ì¬ê³ </th>
                            <td>{dtl.actualStock}</td>
                        </tr>
                        <tr css={S.SThtdBox}>
                            <th>ì„ì‹œ ì¬ê³ (ì‹¤ì œ ì¬ê³  - ì£¼ë¬¸ì¬ê³ )</th>
                            <td>{dtl.tempStock}</td>
                        </tr>
                    </tbody>
                </table>
                })}
            </div>
            <div css={S.SImgContainer}>
                <div>
                    <h2 css={S.SH2}>ìƒí’ˆ ë©”ì¸ ì´ë¯¸ì§€</h2>
                </div>
                <div>
                    <img src={getProduct?.data?.data.productThumbnailUrl} alt='' width={'700px'}/>
                </div>
                <div css={S.SMidBox}>
                    <h3>ìƒí’ˆ ë©”ì¸ ì´ë¯¸ì§€ URL</h3>
                    <div>{getProduct?.data?.data.productThumbnailUrl}</div>
                </div>
                <div>
                    <h2 css={S.SH2}>ìƒí’ˆ ìƒì„¸ ì •ë³´ ì´ë¯¸ì§€</h2>
                </div>
                <div>
                    <img src={getProduct?.data?.data.productDetailUrl} alt='' width={'700px'}/>
                </div>
                <div css={S.SMidBox}>
                    <h3>ìƒí’ˆ ìƒì„¸ ì •ë³´ ì´ë¯¸ì§€ URL</h3>
                    <div>{getProduct?.data?.data.productDetailUrl}</div>
                </div>
                <button css={S.SButton} onClick={handleReturnToEditPageClick}>ì „ì²´ ìƒí’ˆ ë¦¬ìŠ¤íŠ¸</button>
            </div>

        </div>
    </Mypage>
);
```
- ê´€ë¦¬ìê°€ ìƒí’ˆì— ëŒ€í•œ ëª¨ë“  ì •ë³´ë¥¼ í™•ì¸í•˜ëŠ” í˜ì´ì§€ì´ë¯€ë¡œ ì¹´í…Œê³ ë¦¬ IDì™€ ê°™ì€ ìƒì„¸í•œ ì •ë³´ê¹Œì§€ ëª¨ë‘ í™”ë©´ì— ì¶œë ¥í•œë‹¤.

<br>
   
## Back-End

**Controller**
```java
@GetMapping("/api/product/master/{productMstId}")
public ResponseEntity<?> getProductByProductMstId(@PathVariable int productMstId) {
    return ResponseEntity.ok().body(productService.getProductByProductMstId(productMstId));
}
```
   <br>

**Service**
```java
public GetProductRespDto getProductByProductMstId(int productMstId) {
    try {
        return productMapper.selectProductByProductMstId(productMstId).toProductRespDto();
    }catch (Exception e) {
        throw new ProductException(errorMapper.errorMapper
                ("ìƒí’ˆ ì˜¤ë¥˜", "ìƒí’ˆ ì •ë³´ ì¡°íšŒ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤."));
    }
}
```
   <br>

**Repository**
```java
public ProductMst selectProductByProductMstId(int productMstId);
```
   <br>

**Mybatis Query**
```java
<resultMap id="productMstMap" type="com.woofnmeow.wnm_project_back.entity.ProductMst">
    <id property="productMstId" column="product_mst_id" />
    <result property="productName" column="product_name" />
    <result property="petTypeId" column="pet_type_id" />
    <result property="productCategoryId" column="product_category_id" />
    <result property="productDetailText" column="product_detail_text" />
    <result property="productThumbnailUrl" column="product_thumbnail_url" />
    <result property="productDetailUrl" column="product_detail_url" />
    <result property="createDate" column="create_date" />
    <association property="petType" resultMap="petTypeMap"/>
    <association property="category" resultMap="categoryMap"/>
    <collection property="productDtlList" javaType="list" resultMap="productDtlMap"/>
</resultMap>

<resultMap id="productDtlMap" type="com.woofnmeow.wnm_project_back.entity.ProductDtl">
    <id property="productDtlId" column="product_dtl_id" />
    <result property="productMstId" column="product_mst_id" />
    <result property="price" column="price" />
    <result property="sizeId" column="size_id" />
    <result property="actualStock" column="actual_stock" />
    <result property="tempStock" column="temp_stock" />
    <association property="size" resultMap="sizeMap" />
</resultMap>

<resultMap id="sizeMap" type="com.woofnmeow.wnm_project_back.entity.Size">
    <id property="sizeId" column="size_id"/>
    <result property="sizeName" column="size_name"/>
</resultMap>

<resultMap id="petTypeMap" type="com.woofnmeow.wnm_project_back.entity.PetType">
    <id property="petTypeId" column="pet_type_id"/>
    <result property="petTypeName" column="pet_type_name"/>
</resultMap>

<resultMap id="categoryMap" type="com.woofnmeow.wnm_project_back.entity.Category">
    <id property="productCategoryId" column="product_category_id"/>
    <result property="productCategoryName" column="product_category_name"/>
</resultMap>
```

   <br>

**Mybatis Query**
```java
<select id="selectProductByProductMstId" resultMap="productMstMap">
    select
        pdt.product_dtl_id,
        pmt.product_mst_id,
        pmt.product_name,
        pdt.price,
        ptt.pet_type_id,
        ptt.pet_type_name,
        pct.product_category_id,
        pct.product_category_name,
        st.size_id,
        st.size_name,
        pmt.product_detail_text,
        pmt.product_thumbnail_url,
        pmt.product_detail_url,
        psv.actual_stock,
        psv.temp_stock,
        pmt.create_date
    from
        product_mst_tb pmt
        left outer join  product_dtl_tb pdt on(pdt.product_mst_id = pmt.product_mst_id)
        left outer join product_category_tb pct on(pct.product_category_id = pmt.product_category_id)
        left outer join pet_type_tb ptt on(ptt.pet_type_id = pmt.pet_type_id)
        left outer join size_tb st on(st.size_id = pdt.size_id)
        left outer join product_stock_view psv on(psv.product_dtl_id = pdt.product_dtl_id)
    where
        pmt.product_mst_id = #{productMstId}
</select>
```

   <br>

  </div>
  </details>
<br/>
  
<br/>

### **ê³µì§€ì‚¬í•­ í˜ì´ì§€**
  <details>
  <summary>ê³µì§€ì‚¬í•­ í˜ì´ì§€ ì˜ìƒ</summary>
  <div markdown="1">

![ê³µì§€ì‚¬í•­ í˜ì´ì§€](https://github.com/KoreaIt-J-23-2-3/wnm_project_portfolio/assets/137989661/7d0a4b2e-487f-4b12-b05a-6091bb30d2f4)

  </div>
  </details>

  <details>
  <summary>ê³µì§€ì‚¬í•­ í˜ì´ì§€ ì½”ë“œë¦¬ë·°</summary>
  <div markdown="1">

## Front-End
**ì „ì²´ ê³µì§€ì‚¬í•­ í˜ì´ì§€**
```javascript
	const [ announcementsList, setAnnouncementsList ] = useState([]);
	const [ announcementsCount, setAnnouncementsCount ] = useState([]);
	const [ searchData, setSearchData ] = useState({
		petTypeName: "all",
		productCategoryName: "all",
		searchOption: 'all',
		searchValue: '',
		sortOption: 'number',
		pageIndex: 1});
			
	const getAnnouncements = useQuery(["getAnnouncements"], async () => {
		try {
				const response = await getAnnouncementsApi();
				return  response;
		} catch (error) {
				console.log(error)
		}   
	},{
		retry: 0,
		onSuccess: response => {
				setAnnouncementsList(response?.data);
		}
	})

	const getAnnouncementsCount = useQuery(["getAnnouncementsCount"], async () => {
		try {
				const response = await getAnnouncementsCountApi();
				return  response;
		} catch (error) {
				console.log(error)
		}   
	},{
		retry: 0,
		onSuccess: response => {
				setAnnouncementsCount(response?.data);
		}
	})

	const handleAnnouncementClick = (announcementId) => {
		navigate(`/notice/${announcementId}`)
	}
```
- getAnnouncements ë¦¬ì—‘íŠ¸ì¿¼ë¦¬ë¡œ ê³µì§€ì‚¬í•­ ë¦¬ìŠ¤íŠ¸ë¥¼ ê°€ì ¸ì˜´, ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ”ë° ì„±ê³µí•˜ë©´ announcementsListìƒíƒœì— ë°ì´í„°ë¥¼ ì €ì¥
- getAnnouncementsCount ë¦¬ì—‘íŠ¸ ì¿¼ë¦¬ë¡œ í˜ì´ì§€ë„¤ì´ì…˜ì— í•„ìš”í•œ ê³µì§€ì‚¬í•­ì˜ ì „ì²´ ê°¯ìˆ˜ë¥¼ ê°€ì ¸ì˜´
- ì „ì²´ ê³µì§€ì‚¬í•­ì—ì„œ íŠ¹ì • ê³µì§€ì‚¬í•­ì„ í´ë¦­í•˜ë©´ announcementIdë¥¼ ê°€ì§€ê³  ì´ë™
<br>

**ê³µì§€ì‚¬í•­ ì‘ì„±**
```javascript
	const [ announcementData, setAnnouncementData ]= useState({
		title: "",
		content: "",
		type: "ê³µì§€ì‚¬í•­",
		isPinned: 0,
		createDate: ""
	});

	const handleInputChange = (e) => {
		const { name, value } = e.target;
		setAnnouncementData({
				...announcementData,
				[name]: value
		})
	}

	const handleCheckBoxChange = (e) => {
		setAnnouncementData({
				...announcementData,
				isPinned: announcementData.isPinned === 0 ? 1 : 0
		});
	}

	useEffect(() => {
		if(principal?.data?.data.roleName !== "ROLE_ADMIN" || !principal?.data) {
				alert("ì •ìƒì ì¸ ì ‘ê·¼ì´ ì•„ë‹™ë‹ˆë‹¤.")
				navigate("/")
		}
	}, [])

	const handleWriteClick = async () => {
		try {
				const option = {
						headers: {
								Authorization: localStorage.getItem("accessToken")
						}
				}
				const response = await writeAnnouncementApi(announcementData, option)
		
				alert("ë“±ë¡ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.")
				navigate("/notice")
				return response;
		} catch (error) {
				alert(error)
		}
	}
```
- isPinnedì˜ ê²½ìš° ì‘ì„± ì‹œ ì „ì²´ ê³µì§€ì‚¬í•­ì—ì„œ ìƒë‹¨ì— ê³ ì • ì—¬ë¶€ë¥¼ ì²´í¬ë°•ìŠ¤ë¥¼ í†µí•´ ì„ íƒê°€ëŠ¥
- useEffectë¥¼ í†µí•´ ê´€ë¦¬ì ê¶Œí•œì´ ì—†ëŠ” ì‚¬ìš©ìê°€ ì ‘ê·¼ í•  ê²½ìš° í™ˆ í™”ë©´ìœ¼ë¡œ ëŒë ¤ë³´ë‚´ì¤ë‹ˆë‹¤
- typeì˜ ê²½ìš° ì¹´í…Œê³ ë¦¬ê°€ ëŠ˜ì–´ë‚  ê²½ìš°ë¥¼ ëŒ€ë¹„í•˜ì—¬ ì‘
<br>

**ê³µì§€ì‚¬í•­ ìƒì„¸í˜ì´ì§€**
```javascript
	const [ announcementData, setAnnouncementData ] = useState();

	const getAnnouncementById = useQuery(["getAnnouncementById", announcementData], async () => {
		try {
				const response = await getAnnouncementByIdApi(announcementId);
				return response;
		} catch (error) {
				console.log(error)
		}
	},
	{
		retry: 0,
		onSuccess: response => {
				setAnnouncementData(response.data)
		}
	})

	if(getAnnouncementById.isLoading) {
		return <div>ë¡œë”©ì¤‘</div>
	}

		const handleEditClick = (announcementDataId) => {
		navigate(`/admin/edit/announcement/${announcementDataId}`)
	}

	const handleDeleteClick = async (announcementDataId) => {
		if(window.confirm("ì‚­ì œ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
				try {
						const option = {
								headers: {
										Authorization: localStorage.getItem("accessToken")
								}
						}
						const response = await deleteAnnouncementApi(announcementDataId, option);
						alert("ì‚­ì œê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.")
						return response;
				} catch (error) {
						alert(error.message)
				}   
		}
	}

	const HandleCancle = () => {
		navigate(-1)
	}
```
- ê³µì§€ì‚¬í•­ì˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ”ë° ì„±ê³µí•˜ë©´ announcementDataìƒíƒœì— ë°ì´í„°ë¥¼ ì €ì¥
- ìˆ˜ì •ê³¼ ì‚­ì œ ë²„íŠ¼ì€ ê´€ë¦¬ìì¸ ê²½ìš°ì—ë§Œ ë³´ì´ë„ë¡ í•´ì¤Œì¤Œ
<br>

**ê³µì§€ì‚¬í•­ ìˆ˜ì •**
```javascript
	const [ announcementData, setAnnouncementData ]= useState({
		title: "",
		content: "",
		isPinned: 0,
		createDate: ""
	});

	useEffect(() => {
		const fetchData = async () => {
			try {
				const response = await getAnnouncementByIdApi(announcementId);
				setAnnouncementData({
						title: response?.data?.title,
						content: response?.data?.content,
						isPinned: response?.data?.isPinned,
						createDate: response?.data?.createDate,
				});
			} catch (error) {
					console.error(error);
			}
		};
		fetchData();
	}, [announcementId])

	const handleCheckBoxChange = () => {
		setAnnouncementData({
				...announcementData,
				isPinned: announcementData.isPinned === 0 ? 1 : 0
		});
	}

	useEffect(() => {
			if(principal?.data?.data.roleName !== "ROLE_ADMIN" || !principal?.data) {
					alert("ì •ìƒì ì¸ ì ‘ê·¼ì´ ì•„ë‹™ë‹ˆë‹¤.")
					navigate("/")
			}
	}, [])

	const handleInputChange = (e) => {
			const { name, value } = e.target;
			setAnnouncementData({
					...announcementData,
					[name]: value
			})
	}

	const handleEditClick = async () => {
		try {
			const option = {
					headers: {
							Authorization: localStorage.getItem("accessToken")
					}
			}
			const response = await editAnnouncementApi(announcementId, announcementData, option);
			alert("ìˆ˜ì •ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.");
			navigate("/notice");

			return response;
		} catch (error) {
				alert(error)
		}
	}
```
- ì œëª©ê³¼ ë‚´ìš© ê³ ì •ì—¬ë¶€ë¥¼ ìˆ˜ì • ê°€ëŠ¥
- ìˆ˜ì •í•˜ê¸° ìœ„í•œ ê³µì§€ì‚¬í•­ì˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ”ë° ì„±ê³µí•˜ë©´ announcementDataìƒíƒœì— ì €ì¥
- useEffectë¥¼ í†µí•´ ê´€ë¦¬ì ê¶Œí•œì´ ì—†ëŠ” ì‚¬ìš©ìê°€ ì ‘ê·¼ í•  ê²½ìš° í™ˆ í™”ë©´ìœ¼ë¡œ ëŒë ¤ë³´ë‚´ì¤ë‹ˆë‹¤
<br>

## Back-End
**ê³µì§€ì‚¬í•­ Controller**
```java
	@PostMapping("/api/admin/announcement")
	public ResponseEntity<?> addAnnouncement(@RequestBody AddAnnouncementReqDto addAnnouncementReqDto) {
			return ResponseEntity.ok(announcementService.addAnnouncement(addAnnouncementReqDto));
	}
```
- ê³µì§€ì‚¬í•­ ì‘ì„± ìš”ì²­ì„ ë°›ëŠ” controller
<br>

```java
	@GetMapping("/api/announcement/all")
	public ResponseEntity<?> getAllAnnouncement() {
			List<GetAnnouncementRespDto> response =  announcementService.getAllAnnouncement();
			return ResponseEntity.ok(response);
	}
```
- ì „ì²´ ê³µì§€ì‚¬í•­ì— ëŒ€í•œ ìš”ì²­ì„ ë°›ëŠ” controller
<br>

```java
	@GetMapping("/api/announcement/count")
	public int getAnnouncementCount() {
			return announcementService.getAnnouncementCount();
	}
```
- ê³µì§€ì‚¬í•­ ì „ì²´ ê°¯ìˆ˜ì— ëŒ€í•œ ìš”ì²­ì„ ë°›ëŠ” controller
<br>

```java
	@GetMapping("/api/announcement/{announcementId}")
	public ResponseEntity<?> getAnnouncementById(@PathVariable int announcementId) {
			return ResponseEntity.ok(announcementService.getAnnouncementById(announcementId));
	}
```
- íŠ¹ì • ê³µì§€ì‚¬í•­ì— ëŒ€í•œ ìš”ì²­ì„ ë°›ëŠ” controller
<br>

```java
	@PutMapping("/api/admin/announcement/{announcementId}")
	public ResponseEntity<?> editAnnouncement(@PathVariable int announcementId,@RequestBody EditAnnouncementReqDto editAnnouncementReqDto) {
			return ResponseEntity.ok(announcementService.editAnnouncement(announcementId, editAnnouncementReqDto));
	}
```
- íŠ¹ì • ê³µì§€ì‚¬í•­ ìˆ˜ì • ìš”ì²­ì„ ë°›ëŠ” controller
<br>

```java
	@DeleteMapping("/api/admin/announcement/{announcementId}")
	public ResponseEntity<?> deleteAnnouncement(@PathVariable int announcementId) {
			return ResponseEntity.ok(announcementService.deleteAnnouncement(announcementId));
	}
```
- íŠ¹ì • ê³µì§€ì‚¬í•­ ì‚­ì œ ìš”ì²­ì„ ë°›ëŠ” controller
<br>

**ê³µì§€ì‚¬í•­ ReqDto**
```java
public class AddAnnouncementReqDto {
	private String title;
	private String content;
	private String type;
	private int isPinned;
}

public class EditAnnouncementReqDto {
	private int announcementId;
	private String title;
	private String content;
	private int isPinned;

	public Announcement toEntity(int announcementId) {
		return Announcement.builder()
						.announcementId(announcementId)
						.title(title)
						.content(content)
						.isPinned(isPinned)
						.build();
	}
}
```
- ì‘ì„±ì‹œ ì‚¬ìš©í•˜ëŠ” Dtoì™€ ìˆ˜ì • ì‹œ ì‚¬ìš©í•˜ëŠ” Dtoì´ë‹¤.
- ì‘ì„±ì‹œê°„ì€ mapperì—ì„œ sqlë¬¸ì—ì„œ ì¶”ê°€í•´ì£¼ì—ˆë‹¤.
- ìˆ˜ì •ì˜ ê²½ìš° entityë¡œ ë³€í™˜í•´ì£¼ê¸° ìœ„í•œ ë©”ì†Œë“œë¥¼ ì¶”ê°€í•´ì£¼ì—ˆë‹¤.
<br>

**ê³µì§€ì‚¬í•­ RespDto**
```java
public class GetAnnouncementRespDto {
	private int announcementId;
	private String title;
	private String content;
	private int isPinned;
	private String createDate;
}
```
- íŠ¹ì • ê³µì§€ì‚¬í•­ì˜ ë°ì´í„°ë¥¼ ë°˜í™˜í•  ë•Œ ì‚¬ìš©í•˜ëŠ” Dtoì´ë‹¤.
<br>

**ê³µì§€ì‚¬í•­ Service**
```java
    public boolean addAnnouncement(AddAnnouncementReqDto addAnnouncementReqDto) {
        try {
            return announcementMapper.addAnnouncement(addAnnouncementReqDto) > 0;
        }catch (Exception e) {
            throw new AnnouncementExcption
                    (errorMapper.errorMapper("ê³µì§€ì‚¬í•­", "ê³µì§€ì‚¬í•­ ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤"));
        }
    }
```
- ê³µì§€ì‚¬í•­ ì‘ì„±ì„ ìœ„í•œ ë¶€ë¶„.
<br>

```java
    public List<GetAnnouncementRespDto> getAllAnnouncement() {
        try {
            return announcementMapper.getAllAnnouncement()
                    .stream()
                    .map(Announcement::toGetAnnouncementRespDto)
                    .collect(Collectors.toList());
        }catch (Exception e) {
            throw new AnnouncementExcption
                    (errorMapper.errorMapper("ê³µì§€ì‚¬í•­", "ê³µì§€ì‚¬í•­ ì¡°íšŒ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤."));
        }
    }
```
- ì „ì²´ ê³µì§€ì‚¬í•­ì„ ë¦¬ìŠ¤íŠ¸ë¡œ ë°˜í™˜.
<br>

```java
    public int getAnnouncementCount() {
        try {
            return announcementMapper.getAnnouncementCount();
        }catch (Exception e) {
            throw new AnnouncementExcption
                    (errorMapper.errorMapper("ê³µì§€ì‚¬í•­", "ê³µì§€ì‚¬í•­ ê°¯ìˆ˜ ì¡°íšŒ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤."));
        }
    }
```
- ê³µì§€ì‚¬í•­ì˜ ì „ì²´ ê°¯ìˆ˜ë¥¼ ë°˜í™˜.
<br>

```java
    public GetAnnouncementRespDto getAnnouncementById(int announcementId) {
        try {
            return announcementMapper.getAnnouncementById(announcementId).toGetAnnouncementRespDto();
        }catch (Exception e) {
            throw new AnnouncementExcption
                    (errorMapper.errorMapper("ê³µì§€ì‚¬í•­", "ê³µì§€ì‚¬í•­ ì¡°íšŒ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤."));
        }
    }
```
- íŠ¹ì • ê³µì§€ì‚¬í•­ì˜ ë°ì´í„°ë¥¼ ë°˜í™˜.
<br>

```java
    @Transactional(rollbackFor = Exception.class)
    public boolean editAnnouncement(int announcementId, EditAnnouncementReqDto editAnnouncementReqDto) {
        try {
            return announcementMapper
                    .editAnnouncement(announcementId, editAnnouncementReqDto.toEntity(announcementId)) > 0;
        }catch (Exception e) {
            throw new AnnouncementExcption
                    (errorMapper.errorMapper("ê³µì§€ì‚¬í•­", "ê³µì§€ì‚¬í•­ ìˆ˜ì • ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤."));
        }

    }
```
- íŠ¹ì • ê³µì§€ì‚¬í•­ì˜ ìˆ˜ì • ê²°ê³¼ë¥¼ ë°˜í™˜.
<br>

```java
    @Transactional(rollbackFor = Exception.class)
    public boolean deleteAnnouncement(int announcementId) {
        try {
            return announcementMapper.deleteAnnouncement(announcementId) > 0;
        }catch (Exception e) {
            throw new AnnouncementExcption
                    (errorMapper.errorMapper("ê³µì§€ì‚¬í•­", "ê³µì§€ì‚¬í•­ ì‚­ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤."));
        }
    }
```
- íŠ¹ì • ê³µì§€ì‚¬í•­ì˜ ì‚­ì œ ê²°ê³¼ë¥¼ ë°˜í™˜.
<br>

**ê³µì§€ì‚¬í•­ Entity**
```java
public class Announcement {
	private int announcementId;
	private String title;
	private String content;
	private int isPinned;
	private String createDate;

	public GetAnnouncementRespDto toGetAnnouncementRespDto() {
			return GetAnnouncementRespDto.builder()
							.announcementId(announcementId)
							.title(title)
							.content(content)
							.isPinned(isPinned)
							.createDate(createDate)
							.build();
	}
}
```
- respDtoë¡œ ë³€í™˜í•˜ëŠ” ë©”ì†Œë“œë¥¼ ì¶”ê°€í•´ì£¼ì—ˆë‹¤.
<br>

**ê³µì§€ì‚¬í•­ Repository**
```java
	public int addAnnouncement(AddAnnouncementReqDto addAnnouncementReqDto);
	public List<Announcement> getAllAnnouncement();
	public int getAnnouncementCount();
	public Announcement getAnnouncementById(int announcementId);
	public int editAnnouncement(int announcementId, Announcement announcement);
	public int deleteAnnouncement(int announcementId);
```
-
<br>

**ê³µì§€ì‚¬í•­ Mapper**
```xml
	<insert id="addAnnouncement" parameterType="com.woofnmeow.wnm_project_back.dto.request.AddAnnouncementReqDto">
		insert into
				announcement_tb
		values(0, #{title}, #{content}, #{type}, #{isPinned}, now())
	</insert>
```
- ê³µì§€ì‚¬í•­ ì‘ì„±ì„ ìœ„í•œ mabatis ì¿¼ë¦¬ë¬¸
- ì¿¼ë¦¬ë¬¸ìœ¼ë¡œ ì‘ì„± ë‹¹ì‹œì˜ ì‹œê°„ì„ ë„£ì–´ì¤Œ
<br>

```xml
	<select id="getAllAnnouncement" resultType="com.woofnmeow.wnm_project_back.entity.Announcement">
		select
				announcement_id,
				title,
				content,
				is_pinned,
				create_date
		from
				announcement_tb
		order by
				is_pinned desc
		limit
		0, 10;
	</select>
```
- ì „ì²´ ê³µì§€ì‚¬í•­ì„ ê°€ì ¸ì˜¤ëŠ” mybatis ì¿¼ë¦¬ë¬¸
- 10ê°œì”© ë³´ì—¬ì£¼ê¸° ìœ„í•´ limitë¥¼ ê±¸ì–´ì£¼ì—ˆë‹¤.
<br>

```xml
	<select id="getAnnouncementCount" resultType="java.lang.Integer">
		select
				count(*)
		from
				announcement_tb
	</select>
```
- í˜ì´ì§€ë„¤ì´ì…˜ì„ ìœ„í•´ ì „ì²´ ê³µì§€ì‚¬í•­ ê°¯ìˆ˜ë¥¼ ê°€ì ¸ì˜¤ëŠ” mybatis ì¿¼ë¦¬ë¬¸
<br>

```xml
	<select id="getAnnouncementById"
				parameterType="int"
				resultType="com.woofnmeow.wnm_project_back.entity.Announcement">
		select
				announcement_id,
				title,
				content,
				is_pinned,
				create_date
		from
				announcement_tb
		where
				announcement_id = #{announcementId}
	</select>
```
- íŠ¹ì • ê³µì§€ì‚¬í•­Idë¡œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” mybatis ì¿¼ë¦¬ë¬¸
<br>

```xml
	<update id="editAnnouncement" parameterType="com.woofnmeow.wnm_project_back.entity.Announcement">
			update
					announcement_tb
			set
					title = #{announcement.title},
					content = #{announcement.content},
					is_pinned = #{announcement.isPinned},
					create_date = now()
			where
					announcement_id = #{announcementId};
	</update>
```
- ê³µì§€ì‚¬í•­ì„ ìˆ˜ì •í•˜ëŠ” mybatis ì¿¼ë¦¬ë¬¸
- ì¿¼ë¦¬ë¬¸ìœ¼ë¡œ ìˆ˜ì • ë‹¹ì‹œì˜ ì‹œê°„ì„ ë„£ì–´ì¤Œ
<br>

```xml
	<delete id="deleteAnnouncement" parameterType="int">
			delete from
					announcement_tb
			where
					announcement_id = #{announcementId}
	</delete>
```
- ê³µì§€ì‚¬í•­ì„ ì‚­ì œí•˜ëŠ” mybatisì¿¼ë¦¬ë¬¸
<br>

  </div>
  </details>

<p align="right"><a href="#top">TOP ğŸ”¼</a></p>
<br/>

## **âœ ëŠë‚€ì **

<br/>

> **íŒ€ì¥: ì •ëŒ€í’** 
- ë‹¨ê¸°ê°„ë™ì•ˆ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ ì–´ë ¤ì›€ì— ë¶€ë”ªí˜”ì§€ë§Œ, ê·¸ ê³¼ì •ì—ì„œ í•´ê²°í•´ ë‚˜ê°€ëŠ”ê²ƒì´ ì‰½ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
  í•˜ì§€ë§Œ ê·¸ëŸ° ì–´ë ¤ì›€ì„ ê·¹ë³µí•˜ê³  ë‚˜ì„œì˜ ì„±ì·¨ê°ì´ ë¿Œë“¯í–ˆìŠµë‹ˆë‹¤. ë³¸ ê³¼ì •ì€ ì£¼ë¡œ ë°±ì—”ë“œì— ê´€ë ¨ë˜ì—ˆì§€ë§Œ, í”„ë¡ íŠ¸ ì—”ë“œë„ í•¨ê»˜ ë°°ìš¸ìˆ˜ ìˆì–´ ì†Œì¤‘í•œ ê²½í—˜ì´ ë˜ì—ˆìŠµë‹ˆë‹¤.
- íŠ¹íˆ, íŒ€ì¥ì¸ ì €ì˜ ì„±ê²©ì´ ë‚´ì„±ì ì´ë¼ ì†Œí†µí•˜ëŠ”ë° ì–´ë ¤ì›€ì´ ìˆì—ˆìŠµë‹ˆë‹¤.
  ê·¸ë¡œ ì¸í•´ íŒ€ì›ë“¤ê³¼ì˜ ì†Œí†µì´ ì–¼ë§ˆë‚˜ ì¤‘ìš”í•œì§€ ê¹¨ë‹«ê²Œ ë˜ì—ˆê³ , ì„œë¡œ ë•ê³  í˜‘ì—…(í˜‘ë ¥)í•˜ëŠ” ê²ƒì´ ì´ë²ˆ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“œëŠ”ë° ì–¼ë§ˆë‚˜ ì¤‘ìš”í•œ ì—­í• ì¸ì§€ ì•Œê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.
- ì²˜ìŒì—ëŠ” í”„ë¡œì íŠ¸ DBêµ¬ì¡° ë“± ì§„í–‰ ë°©í–¥ì„ ì–´ë–»ê²Œ ì¡ì•„ì•¼ í• ì§€ ë§‰ë§‰ í–ˆì—ˆëŠ”ë° ê°•ì‚¬ë‹˜ ë•ë¶„ì— í”„ë¡œì íŠ¸ì˜ ë°©í–¥ì„±ì„ ì¡ì•˜ìœ¼ë©°, ì´ë¥¼ í†µí•´ í”„ë¡œì íŠ¸ì˜ ê°ì¢… ëª…ì„¸ì„œ, êµ¬ì¡°, ì§„í–‰ ë°©í–¥ ì˜ ì¤‘ìš”ì„±ê³¼ ìš°ì„ ìˆœìœ„ë¥¼ ì•Œê²Œë˜ì—ˆìŠµë‹ˆë‹¤.
- í”„ë¡œì íŠ¸ë¥¼ ì´ëŒì–´ë‚˜ê°€ëŠ” íŒ€ì¥ìœ¼ë¡œì„œ ì €ì˜ ì–´ë–¤ ë¶€ë¶„ì—ì„œ ë¬´ì—‡ì´ ë¶€ì¡±í•œì§€ ìŠ¤ìŠ¤ë¡œ ê¹¨ë‹«ê²Œ ë˜ëŠ” ì†Œì¤‘í•œ ê²½í—˜ì´ì—ˆìŠµë‹ˆë‹¤.
  ë¶€ì¡±í•œ ë¶€ë¶„ì„ ì°¾ì•„ ê³µë¶€í•˜ê³ , ì½”ë“œë¥¼ ì¢€ ë” ê¹Šì´ ì´í•´í• ìˆ˜ ìˆëŠ” ê¸°íšŒê°€ ë˜ì—ˆìœ¼ë©°, ì´ ê³¼ì •ì„ í†µí•´ ì„±ì¥ í•  ìˆ˜ ìˆì„ê±° ê°™ì•„ ë¿Œë“¯í•˜ê³  ëœ»ê¹Šì€ ì‹œê°„ì´ì—ˆìŠµë‹ˆë‹¤.
<br/>

> **íŒ€ì›: ì¥í˜¸ì§„** 
- í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í•˜ë©´ì„œ ëª…ì„¸ì„œê°™ì€ ë¬¸ì„œë¥¼ ì‘ì„±í•  ë•Œ ì–´ë–¤ ë¶€ë¶„ê¹Œì§€ ì‘ì„±í•´ì•¼ í•  ì§€ ë§‰ë§‰í–ˆëŠ”ë° ìµœëŒ€í•œ ìì„¸í•˜ê²Œ ì ìœ¼ë¼ê³  í•˜ì…”ì„œ ìì„¸í•˜ê²Œ ì ì—ˆë‹¤ê³  ìƒê°í–ˆëŠ”ë° í”„ë¡œì íŠ¸ê°€ ì§„í–‰ë˜ë©´ì„œ ëŠ˜ì–´ë‚˜ê³  ìˆ˜ì • ë˜ëŠ”ê±¸ ë³´ê³  ì‹¤ì œ íšŒì‚¬ì—ì„  ì–´ë–»ê²Œ ì§„í–‰ë˜ëŠ”ì§€ ê¶ê¸ˆí•´ ì¡Œê³ ,
  í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í•˜ê¸° ì „ì— íŒ€ì›ë“¤ ë¼ë¦¬ ë§ì¶°ì•¼ í•  ë¶€ë¶„ë“¤ì„ ì •í•´ì•¼ í•œë‹¤ê³  í–ˆì„ ë•Œ ì–´ë–¤ ê²ƒë“¤ì„ ì •í•´ì•¼ í•  ì§€ ë§‰ë§‰í•´ì„œ ìƒê°ë‚˜ëŠ” ê²ƒë“¤ì„ ìµœëŒ€í•œ ì •í–ˆë‹¤ê³  ìƒê°í•˜ê³  í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í•˜ê²Œ ë˜ì—ˆì„ ë•Œ ì´ˆë°˜ì—ëŠ” í¬ê²Œ ë¬¸ì œê°€ ë  ê²ƒë“¤ì´ ë³´ì´ì§€ ì•Šì•„ì„œ ìˆœì¡°ë¡­ê²Œ ì§„í–‰ëœë‹¤ê³  ìƒê°í–ˆëŠ”ë°
  ì¤‘ê°„ì— DBì˜ í…Œì´ë¸” êµ¬ì¡°ë¥¼ ë³€ê²½í•˜ì§€ ì•Šìœ¼ë©´ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²Œ ë„ˆë¬´ ë³µì¡í•´ ì§ˆ ê²ƒ ê°™ë‹¤ëŠ” ì„ ìƒë‹˜ì˜ ë§ì”€ì— ê°‘ìê¸° í…Œì´ë¸” êµ¬ì¡°ë¥¼ ë°”ê¿”ì•¼ í–ˆì„ ë•Œ,
  í”„ë¡œì íŠ¸ ë§‰ë°”ì§€ì— ì²˜ìŒì— ìƒê°í•˜ì§€ ëª»í–ˆë˜ í˜ì´ì§€ë„¤ì´ì…˜ ê¸°ëŠ¥ì„ ì¶”ê°€í•´ì„œ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì— ì ìš©í•˜ê²Œ ë˜ì—ˆì„ ë•Œ propsë¡œ ë°›ì€ ìƒíƒœì—ì„œ ë¬¸ì œê°€ ìƒê¸°ëŠ” ê±¸ ë³´ê³  ì´ëŸ° ê²ƒë“¤ë„ ì¶”ê°€í•˜ê¸° ì „ì— ì‹œê°„ì´ ì¢€ ë“¤ë”ë¼ë„ ì–´ë–¤ ì‹ìœ¼ë¡œ ë™ì‘í•˜ê²Œ ë§Œë“¤ì§€ íŒ€ì›ë“¤ê³¼ ì´ì•¼ê¸°í•˜ê³  ì¡°ì–¸ì„ êµ¬í–ˆë”ë¼ë©´ ë¬¸ì œë¥¼ ë” ì‰½ê²Œ í•´ê²°í•˜ê³  ì¼ì •    ì— ë¬¸ì œê°€ ìƒê¸°ì§€ ì•Šì•˜ì„ ê²ƒ ê°™ì•„ì„œ ì•„ì‰½ê³  íŒ€ì›ì—ê²Œ ë¯¸ì•ˆí•œ ë§ˆìŒì´ ìƒê²¼ìŠµë‹ˆë‹¤.
- í”„ë¡œì íŠ¸ë¥¼ í•˜ë©´ì„œ ë°°ì› ë˜ ê²ƒë“¤ì„ ì‘ìš©í•˜ëŠ” ê²ƒì´ ì–¼ë§ˆë‚˜ ì–´ë ¤ìš´ì§€, ì´ˆê¸° ê¸°íš ë‹¨ê³„ì—ì„œ ì„¸ì„¸í•œ ë¶€ë¶„ë“¤ì„ ì •í•˜ëŠ”ê²Œ ì–¼ë§ˆë‚˜ ì¤‘ìš”í•œì§€, DBêµ¬ì¡°ë¥¼ ì˜ ì§œëŠ”ê²Œ ì–¼ë§ˆë‚˜ ì¤‘ìš”í•œì§€, ë‚´ê°€ ì§  ì½”ë“œë¥¼ ë‹¤ë¥¸ ì‚¬ëŒì´ ì•Œê¸° ì‰½ê²Œ í´ë¦° ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒì´ ì–¼ë§ˆë‚˜ ì¤‘ìš”í•œì§€,
  ë‹¤ë¥¸ ì‚¬ëŒì´ ì§  ì½”ë“œë¥¼ ì´í•´í•˜ëŠ”ê²Œ ì–¼ë§ˆë‚˜ ì¤‘ìš”í•œì§€  ì¡°ê¸ˆì´ë¼ë„ ê¹¨ë‹¬ì„ ìˆ˜ ìˆì—ˆë˜ ì‹œê°„ì´ ëœ ê²ƒ ê°™ìŠµë‹ˆë‹¤.
<br/>

> **íŒ€ì›: ì´ë™í—Œ** 
- í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ í˜ë“¤ì—ˆë˜ ë¶€ë¶„ì„ ëª‡ ê°€ì§€ ë½‘ì•„ë³´ìë©´ í˜‘ì—…, ë¹„ë™ê¸° ì²˜ë¦¬, ì •ê·œí™” ëœ ë°ì´í„°ë² ì´ìŠ¤ì˜ í™œìš©ì´ì—ˆë‹¤.
  Gitì„ í™œìš©í•˜ì—¬ ì²˜ìŒ ì§„í–‰í•œ í˜‘ì—…ì´ì—ˆê¸°ì— ë¸Œëœì¹˜ë¥¼ ì‚¬ìš©í•˜ëŠ”ê²ƒ ìì²´ë¶€í„° ìµìˆ™í•˜ì§€ ì•Šì•˜ê³  ìƒˆë¡œ ì‘ì„±í•œ ì½”ë“œë¥¼ ê¸°ì¡´ ì½”ë“œì™€ ë¬¸ì œì—†ì´ í•©ì¹˜ëŠ”ë° ë‹¤ì–‘í•œ ì˜¤ë¥˜ë¥¼ í•´ê²°í•˜ëŠ”ë° ë§ì€ ì‹œê°„ì„ ì†Œë¹„í•˜ì˜€ë‹¤.
- í•˜ì§€ë§Œ í˜‘ì—…ì— ë§ì€ ì‹œê°„ì„ ì†Œë¹„í•œë‹¤ê³  í•´ë„ ë°˜ë“œì‹œ í•„ìš”í•œ ì‘ì—… êµ¬ì¡°ë¼ê³  ìƒê°í•œë‹¤.
  ì½”ë“œë¥¼ ì˜ ì‘ì„±í•œë‹¤ê³  í•˜ì—¬ë„ í•œ ì‚¬ëŒì´ ì „ì²´ ì„œë¹„ìŠ¤ì— ëŒ€í•´ ë³¼ ìˆ˜ ìˆëŠ” ì‹œê°ì€ í•œì •ì ì´ë©°, ë‹¤ì–‘í•œ ì‚¬ëŒì˜ ì‹œê°ìœ¼ë¡œ ì¥ì ì„ í•©ì¹œ ê²°ê³¼ë¬¼ì„ ë§Œë“¤ê¸° ìœ„í•´ì„œëŠ” ì‹œê°„ì„ ì†Œë¹„í•œë‹¤ê³  í•˜ë”ë¼ë„ ì´ëŸ¬í•œ ì‘ì—… êµ¬ì¡°ì— ìµìˆ™í•´ì§ˆ í•„ìš”ê°€ ìˆì–´ ì˜ë¯¸ê°€ ìˆë‹¤ê³  ìƒê°ëœë‹¤.
  Reactì˜ ë¹„ë™ê¸° ì²˜ë¦¬ëŠ” ì—¬ëŸ¬ ìš”ì²­ì´ ë³µí•©ì ìœ¼ë¡œ ì˜¤ê³  ê°€ëŠ” ìƒí™©ì—ì„œ ì •í™•í•˜ê²Œ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì˜¬ë°”ë¥´ê²Œ ëœë”ë§ëœ í™”ë©´ì„ ë„ìš¸ ìˆ˜ ì—†ì–´ ì£¼ì˜í•´ì„œ ì‚¬ìš©í•˜ì—¬ì•¼ í•œë‹¤.
  íŠ¹íˆ ë¹„ë™ê¸° ì²˜ë¦¬ì— ëŒ€í•´ì„œ ê°€ì¥ í˜ë“¤ì—ˆë˜ ë¶€ë¶„ì€ ì–´ëŠ ë¶€ë¶„ì—ì„œ ì½”ë“œì˜ êµ¬ì¡°ì  ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ëŠ”ì§€ ìœ¡ì•ˆìœ¼ë¡œ í™•ì¸í•˜ê¸° í˜ë“¤ë‹¤ëŠ” ì ì´ë‹¤.
  useState()ë¥¼ ì‚¬ìš©í•œ ëœë”ë§ì´ ì—°ì†ì ìœ¼ë¡œ ì¼ì–´ë‚  ë•Œ, ìƒˆë¡œ ëœë”ë§í•´ì•¼ í•  í™”ë©´ì„ ë„ìš°ì§€ëŠ” ëª»í•˜ì§€ë§Œ í´ë¼ì´ì–¸íŠ¸ëŠ” ì´ê²ƒì„ ì˜¤ë¥˜ë¡œ ì¸ì§€í•˜ì§€ ëª»í•˜ê¸°ì— í•´ë‹¹ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ëŠ” useState() ìƒíƒœ ì €ì¥ í™œë™ ì „ë°˜ì ì¸ ë¶€ë¶„ì„ ëª¨ë‘ ì ê²€í•  í•„ìš”ê°€ ìˆì–´ì„œ ì‹œê°„ì´ ë§ì´ ì†Œë¹„ë˜ì—ˆë‹¤.
  ì´ ë¬¸ì œë¥¼ ë°©ì§€í•˜ë ¤ë©´ í•„ìš”í•œ ë§Œí¼ì˜ ì ì€ ìƒíƒœ í™œìš©ê³¼ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì—¬ë„ ëœë”ë§ì´ ì–´ë–¤ ìˆœì„œë¡œ ì¼ì–´ë‚˜ì•¼ í•˜ëŠ”ì§€ ë³´ê¸° ì‰½ë„ë¡ ì½”ë“œë¥¼ ì£¼ê¸°ì ìœ¼ë¡œ ì •ë¦¬í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤ê³  ìƒê°ëœë‹¤.
- ë°ì´í„°ë² ì´ìŠ¤ì˜ ì •ê·œí™”ëŠ” í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ëŠ” ë„ì¤‘ í•œë²ˆ ë°”ë€Œì—ˆëŠ”ë°, ê¸°ì¡´ì—ëŠ” í•˜ë‚˜ì˜ ìƒí’ˆ í…Œì´ë¸”ì— ì‚¬ì´ì¦ˆ columnì— í•´ë‹¹ ìƒí’ˆì— ëŒ€í•œ ì¬ê³ ë¥¼ ìˆ«ìë¡œ ë„£ì–´ë†¨ì§€ë§Œ, í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ëŠ” ì¤‘ ìƒí’ˆì˜ ì‚¬ì´ì¦ˆë³„ ì¬ê³  ê´€ë¦¬, ê°€ê²© ì±…ì •ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤ê³  íŒë‹¨ë˜ì–´ ì‚¬ì´ì¦ˆì™€ ê°€ê²©ì„ ë¶„ë¦¬í•˜ì—¬ ì •ê·œí™”í•˜ì˜€ë‹¤.
  êµ¬ì¡°ë¥¼ ë°”ê¿ˆìœ¼ë¡œ ì¸í•´ ê¸°ì¡´ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ëŠ” ì‹œê°„ì´ êµ‰ì¥íˆ ì˜¤ë˜ ê±¸ë ¸ìœ¼ë©°, ì´ê²ƒì„ ë°©ì§€í•˜ê¸° ìœ„í•´ì„œëŠ” ì²˜ìŒë¶€í„° í™•ì¥ì„±ì„ ê³ ë ¤í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì„¤ê³„í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°ëœë‹¤.
- íšŒì‚¬ì—ì„œ ì§„í–‰ë˜ëŠ” í˜„ì—…ì— ë¹„í•´ ê°€ë²¼ìš´ í”„ë¡œì íŠ¸ë¼ê³  í• ì§€ë¼ë„, ì²« ì‘ì—…ì´ë¼ ê·¸ëŸ°ì§€ ê½¤ ë¶€ë‹´ìŠ¤ëŸ½ê²Œ ëŠê»´ì§€ëŠ” ì‘ì—…ì´ì—ˆë‹¤. 
<br/>

> **íŒ€ì›: ì„ì˜ˆë¦¼** 
- í”„ë¡œì íŠ¸ ì‹œì‘ í•˜ê¸° ì „ì—ëŠ” ê·¸ë˜ë„ ì—´ì‹¬íˆ ê³µë¶€í•˜ê³  ë…¸ë ¥í–ˆê³ , ì–´ëŠì •ë„ ì „ì²´ì ìœ¼ë¡œ ì´í•´í–ˆë‹¤ ìƒê°í–ˆì—ˆìœ¼ë‚˜ í”„ë¡œì íŠ¸ë¥¼ í•˜ë©´ì„œ ìƒˆë¡­ê²Œ ì•Œê²Œ ëœ ë¶€ë¶„ë„ ë§ì•˜ê³  ì•Œê³ ìˆì—ˆë‹¤ê³  ìƒê°í•œ ë¶€ë¶„ë“¤ë„ ë‹¤ì‹œ ê¹¨ë‹«ê²Œ ëœ ë¶€ë¶„ì´ ìˆì—ˆìŠµë‹ˆë‹¤.
  ê·¸ ë°”íƒ•ì—ëŠ” íŒ€ì›ë¶„ë“¤ì˜ ë„ì›€ì´ ìˆì—ˆê¸° ë•ë¶„ì´ë¼ ìƒê°í•©ë‹ˆë‹¤. í”„ë¡œì íŠ¸ë¡œ ëì´ ì•„ë‹ˆë¼ ì•ìœ¼ë¡œ ì½”ë“œì— ëŒ€í•´ ê³µë¶€í•  ê²ƒì€ ë¬´ê¶ë¬´ì§„í•˜ë‹¤ ìƒê°í•˜ë©° ìˆ˜ë£Œ í›„ì—ë„ ë°°ìš´ ë¶€ë¶„ì— ëŒ€í•´ ë” ê¼¼ê¼¼íˆ ë³µìŠµí•´ì•¼ë˜ê² ë‹¤ëŠ” ë‹¤ì§ê³¼ ë°˜ì„±ì˜ ì‹œê°„ì´ ë˜ì—ˆìŠµë‹ˆë‹¤.
  í”„ë¡œì íŠ¸ê°€ ëë‚œ ì´ ì‹œì ì— ë‹¤ì‹œ ì‹œì‘ì ì„ ë˜ëŒì•„ë³´ë‹ˆ ì•„ì‰¬ì›€ì´ ë§ì´ ë‚¨ì§€ë§Œ ìƒê°í•œ ê²ƒ ë³´ë‹¤ í•œ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“ ë‹¤ëŠ” ê±´ ë” ë³µì¡í–ˆê³ , í˜¼ìì˜€ë‹¤ë©´ í—¤ì³ë‚˜ê°€ì§€ ëª»í•  ì‹œê°„ë“¤ì„ íŒ€ì›ë¶„ë“¤ê³¼ í•¨ê»˜ì—¬ì„œ ë¬´ì‚¬íˆ ì™„ì„±í–ˆìŠµë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤.

<p align="right"><a href="#top">TOP ğŸ”¼</a></p>
<br/>
